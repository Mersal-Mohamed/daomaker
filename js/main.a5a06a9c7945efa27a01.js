(self.webpackChunkdaopad=self.webpackChunkdaopad||[]).push([["main"],{98255:function(V){function U(e){return Promise.resolve().then(function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t})}U.keys=function(){return[]},U.resolve=U,U.id=98255,V.exports=U},7891:function(V,U,e){"use strict";e.d(U,{y:function(){return S}});var t=e(64762),f=e(12296),D=e(30836),M=e(90611),S=function(){function T(u){this.shouldOpen=new f.EventEmitter,this.providers=new f.EventEmitter,this.web3WalletConnector=new D.Web3WalletConnector(u)}return T.prototype.open=function(){return(0,t.__awaiter)(this,void 0,void 0,function(){var u=this;return(0,t.__generator)(this,function(_){switch(_.label){case 0:return this.providers.next(this.web3WalletConnector.providers),[4,new Promise(function(c,E){u.web3WalletConnector.providerController.on(D.CONNECT_EVENT,function(K){c(K)}),u.web3WalletConnector.providerController.on(D.ERROR_EVENT,function(K){E(K)}),u.web3WalletConnector.providerController.connectToCachedProvider(),u.shouldOpen.next(!0),u.shouldOpen.pipe((0,M.q)(1)).subscribe({next:function(K){K||E("Dismissed modal")}})}).finally(function(){u.close()})];case 1:return[2,_.sent()]}})})},T.prototype.setConfiguration=function(u){this.web3WalletConnector.setConfiguration(u)},T.prototype.clearCachedProvider=function(){this.web3WalletConnector.providerController.clearCachedProvider()},T.prototype.setCachedProvider=function(u){this.web3WalletConnector.providerController.setCachedProvider(u)},T.prototype.close=function(){this.shouldOpen.next(!1)},T.\u0275fac=function(_){f.\u0275\u0275invalidFactory()},T.\u0275prov=f.\u0275\u0275defineInjectable({token:T,factory:T.\u0275fac}),T}()},50632:function(V,U,e){"use strict";e.d(U,{s:function(){return Q}});var t=e(64762),f=e(51665),D=e(25748),M=e(94902),T=e(78194),_=e(78512),c=e(42693),E=e(87570),K=e(5831),O=e(56755),A=e(19601),v=e(12296),g=e(26959),B=e(39760),j=e(49961),R=e(92979),N=e(78616),J=e(2024),L=e(18784),ee=e(29154),z=e(89550),Q=function(){function b(o,s,d,h,p,l,r,n,i){this.envConfig=o,this.ui=s,this.router=d,this.userState=h,this.userQuery=p,this.loginSequence=l,this.crypto=r,this.authQuery=n,this.http=i,this.isLoggedIn=!1,this.is2faVerified=!1,this.getVaultPrices=void 0,this.subscription=new E.w,this.log=new M.Log(b.name),this._spinner=new _.X(!1),this.$spinner=this._spinner.asObservable(),this.isLoadingDaoPower$=new _.X(!1),this.daoLoaded=void 0,this.vaultData=void 0,console.log("Started the api service"),this.initializeParse()}return b.prototype.initializeParse=function(){var o=this;try{console.log("started initializeParse");var s=this.envConfig.getConfig();this.ethplorerApiKey=s.ethplorerApiKey,L.initialize(s.parseAppId),L.CoreManager.setStorageController(ee),L.serverURL=""+s.serverUrl+s.parseMount,L.CoreManager.set("REQUEST_HEADERS",s.gaeVersionHeaders),this.userQuery.isLoggedIn$.subscribe(function(l){return o.isLoggedIn=l}),this.parse=L,console.log("finished initializeParse")}catch(l){console.log("ERROR"),console.log(l)}},b.prototype.convertFileUrlToParseFile=function(o){return L.File.fromJSON({__type:"File",url:o,name:o.substr(o.lastIndexOf("/")+1)})},b.prototype.deparse=function(o){var s=this;if(null===o)return null;if(Array.isArray(o))return T.map(o,function(l){return s.deparse(l)});if(o._url)return o._url;for(var d in o)if(o.hasOwnProperty(d)){var h=o[d];if("objectId"===d)o.id=o.objectId,delete o.objectId;else if("createdAt"===d||"updatedAt"===d)o[d]=new Date(h);else if("__type"===d){var p=h;if("Date"===p)return new Date(o.iso);if("GeoPoint"===p)return{latitude:o.latitude,longitude:o.longitude};if("File"===p)return o.url}else Array.isArray(h)?o[d]=T.map(h,function(l){return s.deparse(l)}):T.isObject(h)&&(o[d]=this.deparse(h))}return o},b.prototype.fromJSON=function(o,s){return o?(o.className=s,L.Object.fromJSON(o)):(this.log.debug("fromJSON object is null for "+s),null)},b.prototype.runCloud=function(o,s){return(0,t.__awaiter)(this,void 0,void 0,function(){var d,h,p;return(0,t.__generator)(this,function(l){switch(l.label){case 0:this.log.log("Running cloud function "+o+", with params: "+(s||null)),l.label=1;case 1:return l.trys.push([1,3,,6]),[4,L.Cloud.run(o,s)];case 2:return d=l.sent(),(h=JSON.stringify(d))&&h.length>500?(h=h.substr(0,500)+"...",[2,d]):[3,6];case 3:if(p=l.sent(),this.log.debug("unwrapping error "+p),141===p.code){if(T.isNumber(p.message.code))p=p.message;else if(T.isString(p.message)&&p.message.startsWith("{"))try{throw p=JSON.parse(p.message)}catch(r){this.log.debug("Error parsing unwrapped error "+JSON.stringify(r))}"function not found"===p.message&&this.log.error("Cloud function not found. Is the latest Cloud Code deployed?"),"request.user was null"===p.message&&this.log.error("runCloud: request.user was null")}return 209!==p.code?[3,5]:(this.userState.update({userProfile:null,loggedIn:!1}),[4,this.logout()]);case 4:l.sent(),localStorage.clear(),localStorage.setItem("dao_app_loaded","true"),l.label=5;case 5:throw p;case 6:return[2]}})})},b.prototype.isDev=function(){return"dev"===this.envConfig.getConfig().environment},b.prototype.loadProfile=function(){var o=this;return new Promise(function(s,d){return(0,t.__awaiter)(o,void 0,void 0,function(){var h,p,l,r;return(0,t.__generator)(this,function(n){switch(n.label){case 0:return h=L.User.current(),T.isNil(h)?(localStorage.setItem("dao_app_loaded","true"),this.userState.update({userProfile:null}),[2]):[4,h.fetch()];case 1:return h=n.sent(),this.userState.update({loggedIn:!0}),[4,(p=h.get("profile")).fetch()];case 2:return p=n.sent(),[4,Promise.all([h,p])];case 3:return l=n.sent(),T.isNil(l)?[2]:(localStorage.setItem("dao_app_loaded","true"),r=this.deparse(l[1].toJSON()),this.userState.update(r.mfa_enabled&&!this.is2faVerified?{userProfile:r,loggedIn:!0,mfaEnabled:r.mfa_enabled,kyc_lvl1:r.kyc_lvl1,isLoggedInPending:!1,kyc_lvl2:r.kyc_lvl2}:{userProfile:r,loggedIn:!0,mfaEnabled:r.mfa_enabled,kyc_lvl1:r.kyc_lvl1,kyc_lvl2:r.kyc_lvl2}),[2,s(r)])}})})})},b.prototype.resendEmail=function(o){var s=this;return new Promise(function(d,h){return(0,t.__awaiter)(s,void 0,void 0,function(){var p;return(0,t.__generator)(this,function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,L.Cloud.run("resendVerificationEmail",{email:o})];case 1:return p=r.sent(),[2,d(p)];case 2:return r.sent(),[2,h(!1)];case 3:return[2]}})})})},b.prototype.valdiateToken=function(o){var s=this;return new Promise(function(d,h){return(0,t.__awaiter)(s,void 0,void 0,function(){var p;return(0,t.__generator)(this,function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,L.Cloud.run("validateToken",{token:o})];case 1:return p=r.sent(),[2,d(p)];case 2:return r.sent(),[2,h(!1)];case 3:return[2]}})})})},b.prototype.login=function(o,s,d){var h=this;return new Promise(function(p,l){return(0,t.__awaiter)(h,void 0,void 0,function(){var r,n,i,m,y,C;return(0,t.__generator)(this,function(w){switch(w.label){case 0:return w.trys.push([0,7,,8]),this.logout(),[4,L.Cloud.run("authenticateLogin",{email:o,password:s,token:d})];case 1:return(r=w.sent()).status?(this.userState.update({emailVerified:(n=r.user).get("emailVerified"),mfaEnabled:n.get("profile").mfa_enabled,kyc_lvl1:n.get("profile").kyc_lvl1}),n.get("emailVerified")?[4,this.loginSession(n.getSessionToken())]:[3,3]):[3,5];case 2:return i=w.sent(),this.loginSequence.next(),[2,p(i)];case 3:this._spinner.next(!1),this.userState.update({isLoggedInPending:!0}),this.router.navigate(["/reg-verify-email/"],{queryParams:{email:n.get("email")}}),w.label=4;case 4:return[3,6];case 5:return this._spinner.next(!1),m=void 0,r&&101===r.message.code&&(m="ERROR_LOGIN_ERROR"),r&&102===r.message.code&&(m="ERROR_ACCOUNT_LOCKED"),r&&103===r.message.code&&(m="INVALID_CAPTCHA"),[2,l(m)];case 6:return[3,8];case 7:return y=w.sent(),C=void 0,console.log(y),y&&"1001"===y.code&&(C="ERROR_LOGIN_ERROR"),y&&"1002"===y.code&&(C="ERROR_ACCOUNT_LOCKED"),y&&"1003"===y.code&&(C="INVALID_CAPTCHA"),this._spinner.next(!1),[2,l(C)];case 8:return[2]}})})})},b.prototype.register=function(o,s,d){var h=this;return new Promise(function(p,l){return(0,t.__awaiter)(h,void 0,void 0,function(){var r,n,i,m;return(0,t.__generator)(this,function(y){switch(y.label){case 0:return y.trys.push([0,7,,8]),this._spinner.next(!0),[4,L.Cloud.run("authenticateRegister",{email:o,password:s,agreedTerms:d})];case 1:return(r=y.sent()).status?(this.userState.update({emailVerified:(n=r.user).get("emailVerified"),mfaEnabled:n.get("profile").mfa_enabled,kyc_lvl1:n.get("profile").kyc_lvl1}),this._spinner.next(!1),n.get("emailVerified")?[4,this.loginSession(n.getSessionToken())]:[3,3]):[3,5];case 2:return i=y.sent(),[2,p(i)];case 3:this.userState.update({isLoggedInPending:!0}),this.router.navigate(["/reg-verify-email/"],{queryParams:{email:n.get("email")}}),y.label=4;case 4:return[3,6];case 5:return this._spinner.next(!1),[2,l(r)];case 6:return[3,8];case 7:return m=y.sent(),this._spinner.next(!1),[2,l(new Error(m))];case 8:return[2]}})})})},b.prototype.oauth=function(o,s,d,h,p,l,r){var n=this;return new Promise(function(i,m){return(0,t.__awaiter)(n,void 0,void 0,function(){var y,C,w;return(0,t.__generator)(this,function(I){switch(I.label){case 0:return I.trys.push([0,5,,6]),this._spinner.next(!0),[4,this.runCloud("oauth",{provider:o,id:s,accessTokenKey:d,accessToken:h,picture:p,name:l,email:r})];case 1:return y=I.sent(),this.userState.update({emailVerified:y.get("emailVerified"),mfaEnabled:y.get("profile").mfa_enabled,kyc_lvl1:y.get("profile").kyc_lvl1}),y?y.get("emailVerified")?[4,this.loginSession(y.getSessionToken())]:[3,3]:[3,4];case 2:return C=I.sent(),[2,i(C)];case 3:this.userState.update({isLoggedInPending:!0}),this.router.navigate(["/reg-verify-email"],{state:{email:y.get("email")}}),I.label=4;case 4:return[3,6];case 5:return w=I.sent(),this._spinner.next(!1),[2,m(new Error(w))];case 6:return[2]}})})})},b.prototype.loginSession=function(o){var s=this;return new Promise(function(d,h){return(0,t.__awaiter)(s,void 0,void 0,function(){var p,l,r,n;return(0,t.__generator)(this,function(i){switch(i.label){case 0:return i.trys.push([0,4,,5]),this._spinner.next(!0),[4,L.User.become(o)];case 1:return p=i.sent(),[4,this.loadProfile()];case 2:return l=i.sent(),[4,Promise.all([p,l])];case 3:return r=i.sent(),this._spinner.next(!1),[2,d(r[0])];case 4:return n=i.sent(),this._spinner.next(!1),[2,h(new Error(n))];case 5:return[2]}})})})},b.prototype.updateUser=function(o,s){var d=this;return new Promise(function(h,p){return(0,t.__awaiter)(d,void 0,void 0,function(){var l,r;return(0,t.__generator)(this,function(n){switch(n.label){case 0:return n.trys.push([0,4,,5]),[4,this.runCloud("updateUser",{field:o,update:s})];case 1:return(l=n.sent())?[4,this.loadProfile()]:[3,3];case 2:return n.sent(),[2,h(l)];case 3:return[3,5];case 4:return r=n.sent(),[2,p(new Error(r.message))];case 5:return[2]}})})})},b.prototype.logout=function(){return(0,t.__awaiter)(this,void 0,void 0,function(){return(0,t.__generator)(this,function(o){switch(o.label){case 0:return[4,L.User.logOut()];case 1:return[2,o.sent()]}})})},b.prototype.resetPassword=function(){var o=this;return new Promise(function(s,d){return(0,t.__awaiter)(o,void 0,void 0,function(){var h,p;return(0,t.__generator)(this,function(l){switch(l.label){case 0:return l.trys.push([0,2,,3]),[4,this.runCloud("updateUser",{field:"password",update:null})];case 1:return(h=l.sent())?[2,s(h)]:[3,3];case 2:return p=l.sent(),[2,d(new Error(p.message))];case 3:return[2]}})})})},b.prototype.resetUserPassword=function(o){return(0,t.__awaiter)(this,void 0,void 0,function(){var s=this;return(0,t.__generator)(this,function(d){return[2,new Promise(function(h,p){return(0,t.__awaiter)(s,void 0,void 0,function(){var l;return(0,t.__generator)(this,function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,L.Cloud.run("resetUserPassword",{email:o})];case 1:return l=n.sent(),[2,h(l)];case 2:return n.sent(),[2,p(!1)];case 3:return[2]}})})})]})})},b.prototype.updateProfile=function(o){var s=this;return new Promise(function(d,h){return(0,t.__awaiter)(s,void 0,void 0,function(){var p,l,r=this;return(0,t.__generator)(this,function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),o.location&&(o.location=new L.GeoPoint({latitude:Math.round(100*o.location.latitude)/100,longitude:Math.round(100*o.location.longitude)/100})),o.album&&(o.album=T.map(o.album,function(i){return T.isString(i)?r.convertFileUrlToParseFile(i):"File"===i.__type?i:i._name&&i._url?r.convertFileUrlToParseFile(i._url):void 0})),this.log.log("Parse update",o),[4,L.Cloud.run("UpdateProfile",o)];case 1:return p=n.sent(),[2,d(p)];case 2:return l=n.sent(),[2,h(new Error(l.message))];case 3:return[2]}})})})},b.prototype.updateAvatar=function(o){var s=this;return new Promise(function(d,h){return(0,t.__awaiter)(s,void 0,void 0,function(){var p,l;return(0,t.__generator)(this,function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),this.log.log("Parse update",o),[4,L.Cloud.run("updateAvatar",o)];case 1:return p=r.sent(),[2,d(p)];case 2:return l=r.sent(),[2,h(new Error(l.message))];case 3:return[2]}})})})},b.prototype.updateKYC=function(o){var s=this;return new Promise(function(d,h){return(0,t.__awaiter)(s,void 0,void 0,function(){var p,l;return(0,t.__generator)(this,function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),this.log.log("Parse update",o),[4,L.Cloud.run("updateKYC",o)];case 1:return p=r.sent(),[2,d(p)];case 2:return l=r.sent(),[2,h(new Error(l.message))];case 3:return[2]}})})})},b.prototype.saveFile=function(o,s){return(0,t.__awaiter)(this,void 0,void 0,function(){var d;return(0,t.__generator)(this,function(p){switch(p.label){case 0:return d=new L.File(o,{base64:s}),this.log.log("Saving file "+o),[4,d.save()];case 1:return[2,p.sent().url()]}})})},b.prototype.getPoolAPY=function(){var o=this;return new Promise(function(s,d){return(0,t.__awaiter)(o,void 0,void 0,function(){var h;return(0,t.__generator)(this,function(p){switch(p.label){case 0:return[4,L.Cloud.run("getVaultAPY")];case 1:return h=p.sent(),s(h),[2]}})})})},b.prototype.getTokenPrices=function(){var o=this;return new Promise(function(s,d){return(0,t.__awaiter)(o,void 0,void 0,function(){var h,p;return(0,t.__generator)(this,function(l){switch(l.label){case 0:return l.trys.push([0,4,,5]),console.log("Starting promises getTokenPrices",this.getVaultPrices),void 0!==this.getVaultPrices?[3,2]:[4,L.Cloud.run("getVaultPricing")];case 1:return h=l.sent(),this.getVaultPrices=h,console.log("Finish this.getVaultPrices",this.getVaultPrices),s(h),[3,3];case 2:console.log("ELSE **** ",this.getVaultPrices),s(this.getVaultPrices),l.label=3;case 3:return[3,5];case 4:return p=l.sent(),d(new Error(p)),[3,5];case 5:return[2]}})})})},b.prototype.getVaultData=function(o){var s=this;return new Promise(function(d,h){return(0,t.__awaiter)(s,void 0,void 0,function(){var p,l;return(0,t.__generator)(this,function(r){switch(r.label){case 0:return r.trys.push([0,4,,5]),this.vaultData?[2,d(this.vaultData)]:[3,1];case 1:return[4,L.Cloud.run("getVault",{network:o})];case 2:return p=r.sent(),this.vaultData=p,[2,d(p)];case 3:return[3,5];case 4:return l=r.sent(),[2,h(new Error(l))];case 5:return[2]}})})})},b.prototype.getCompanyWithOfferings=function(o){return(0,t.__awaiter)(this,void 0,void 0,function(){var s;return(0,t.__generator)(this,function(d){switch(d.label){case 0:return[4,this.runCloud("getCompanyWithOfferings",{slug:o})];case 1:return(s=d.sent())?[2,this.deparse(s)]:[2,null]}})})},b.prototype.getCompanybyIdWithOfferings=function(o){return(0,t.__awaiter)(this,void 0,void 0,function(){var s;return(0,t.__generator)(this,function(d){switch(d.label){case 0:return[4,this.runCloud("getCompanyWithOfferings",{company_id:o})];case 1:return(s=d.sent())?[2,this.deparse(s)]:[2,null]}})})},b.prototype.getAllCompanies=function(){return(0,t.__awaiter)(this,void 0,void 0,function(){var o;return(0,t.__generator)(this,function(s){switch(s.label){case 0:return[4,this.runCloud("getAllCompanies")];case 1:return(o=s.sent())?[2,this.deparse(o)]:[2,[]]}})})},b.prototype.getCompany=function(o){return(0,t.__awaiter)(this,void 0,void 0,function(){var s;return(0,t.__generator)(this,function(d){switch(d.label){case 0:return[4,this.runCloud("getCompany",{companyID:o})];case 1:return(s=d.sent())?[2,this.deparse(s)]:[2]}})})},b.prototype.getNotice=function(){return(0,t.__awaiter)(this,void 0,void 0,function(){var o;return(0,t.__generator)(this,function(s){switch(s.label){case 0:return[4,this.runCloud("getNotice",{})];case 1:return(o=s.sent())?[2,this.deparse(o)]:[2]}})})},b.prototype.getActiveTokenSales=function(){return(0,t.__awaiter)(this,void 0,void 0,function(){var o;return(0,t.__generator)(this,function(s){switch(s.label){case 0:return[4,this.runCloud("getActiveTokenSales")];case 1:return(o=s.sent())?[2,this.deparse(o)]:[2,[]]}})})},b.prototype.getFundedCompanies=function(o){return(0,t.__awaiter)(this,void 0,void 0,function(){var s;return(0,t.__generator)(this,function(d){switch(d.label){case 0:return[4,L.Cloud.run("getFundedCompanies",{page:o})];case 1:return(s=d.sent())?[2,this.deparse(s)]:[2,[]]}})})},b.prototype.prepareHomePage=function(){return(0,t.__awaiter)(this,void 0,void 0,function(){var o;return(0,t.__generator)(this,function(s){switch(s.label){case 0:return[4,this.runCloud("prepareHomePage")];case 1:return(o=s.sent())?[2,this.deparse(o)]:[2,[]]}})})},b.prototype.getPlatformStats=function(){return(0,t.__awaiter)(this,void 0,void 0,function(){var o;return(0,t.__generator)(this,function(s){switch(s.label){case 0:return[4,this.runCloud("getPlatformStats")];case 1:return(o=s.sent())?[2,this.deparse(o)]:[2,[]]}})})},b.prototype.mfaSetup=function(){return(0,t.__awaiter)(this,void 0,void 0,function(){var o;return(0,t.__generator)(this,function(s){switch(s.label){case 0:return[4,L.Cloud.run("mfaSetup")];case 1:return o=s.sent(),[2,this.deparse(o)]}})})},b.prototype.mfaVerify=function(o){return(0,t.__awaiter)(this,void 0,void 0,function(){var s;return(0,t.__generator)(this,function(d){switch(d.label){case 0:return[4,L.Cloud.run("mfaVerify",{token:o})];case 1:return s=d.sent(),[2,this.deparse(s)]}})})},b.prototype.mfaDisable=function(o){return(0,t.__awaiter)(this,void 0,void 0,function(){var s;return(0,t.__generator)(this,function(d){switch(d.label){case 0:return[4,L.Cloud.run("mfaDisable",{token:o})];case 1:return s=d.sent(),[2,this.deparse(s)]}})})},b.prototype.createOffering=function(o){return(0,t.__awaiter)(this,void 0,void 0,function(){var s;return(0,t.__generator)(this,function(d){switch(d.label){case 0:return[4,this.runCloud("createOffering",o)];case 1:return s=d.sent(),[2,this.deparse(s)]}})})},b.prototype.deleteOffering=function(o,s){return(0,t.__awaiter)(this,void 0,void 0,function(){var d;return(0,t.__generator)(this,function(h){switch(h.label){case 0:return[4,this.runCloud("deleteOffering",{companyID:o,offeringID:s})];case 1:return d=h.sent(),[2,this.deparse(d)]}})})},b.prototype.updateOffering=function(o){return(0,t.__awaiter)(this,void 0,void 0,function(){var s;return(0,t.__generator)(this,function(d){switch(d.label){case 0:return[4,this.runCloud("updateOffering",o)];case 1:return s=d.sent(),[2,this.deparse(s)]}})})},b.prototype.userStatus=function(){return(0,t.__awaiter)(this,void 0,void 0,function(){var o;return(0,t.__generator)(this,function(d){switch(d.label){case 0:return d.trys.push([0,2,,3]),[4,this.runCloud("userStatus")];case 1:return o=d.sent(),[2,this.deparse(o)];case 2:return[2,d.sent()];case 3:return[2]}})})},b.prototype.shoParticipationStatus=function(o,s){var d=this;return new Promise(function(h,p){return(0,t.__awaiter)(d,void 0,void 0,function(){var l,r;return(0,t.__generator)(this,function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,L.Cloud.run("shoParticipationStatus",{wallet:o,offer_id:s})];case 1:return l=n.sent(),[2,h(l)];case 2:return r=n.sent(),[2,p(new Error(r))];case 3:return[2]}})})})},b.prototype.shoTransaction=function(o){var s=this;return new Promise(function(d,h){return(0,t.__awaiter)(s,void 0,void 0,function(){var p,l;return(0,t.__generator)(this,function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,L.Cloud.run("shoTransaction",(0,t.__assign)({},o))];case 1:return p=r.sent(),[2,d(p)];case 2:return l=r.sent(),[2,h(new Error(l))];case 3:return[2]}})})})},b.prototype.updateshoTransaction=function(o){var s=this;return new Promise(function(d,h){return(0,t.__awaiter)(s,void 0,void 0,function(){var p,l;return(0,t.__generator)(this,function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,L.Cloud.run("updateshoTransaction",(0,t.__assign)({},o))];case 1:return p=r.sent(),[2,d(p)];case 2:return l=r.sent(),[2,h(new Error(l))];case 3:return[2]}})})})},b.prototype.dycoTransaction=function(o){var s=this;return new Promise(function(d,h){return(0,t.__awaiter)(s,void 0,void 0,function(){var p,l;return(0,t.__generator)(this,function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,L.Cloud.run("dycoTransaction",(0,t.__assign)({},o))];case 1:return p=r.sent(),[2,d(p)];case 2:return l=r.sent(),[2,h(new Error(l))];case 3:return[2]}})})})},b.prototype.investmentTransactionTotals=function(o){var s=this;return new Promise(function(d,h){return(0,t.__awaiter)(s,void 0,void 0,function(){var p,l;return(0,t.__generator)(this,function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,L.Cloud.run("investmentTransactionTotals",{offering_id:o})];case 1:return p=r.sent(),[2,d(p)];case 2:return l=r.sent(),[2,h(new Error(l))];case 3:return[2]}})})})},b.prototype.generateSAFT=function(o){var s=this;return new Promise(function(d,h){var p=s.envConfig.getConfig().serverUrl+"/saft?companyID="+o,r=L.User.current().getSessionToken(),n=new z;n.open("GET",p,!0),n.responseType="blob",n.setRequestHeader("X-Parse-Application-Id",s.envConfig.getConfig().parseAppId),n.setRequestHeader("X-Parse-Session-Token",r),n.onreadystatechange=function(){if(n.readyState===z.DONE){var i=n.status;if(0===i||i>=200&&i<400){var m=URL.createObjectURL(this.response);d(m)}else h(new Error("Error processing request"))}},n.send()})},b.prototype.generateShoTerms=function(o,s){var d=this;return new Promise(function(h,p){var l=d.envConfig.getConfig().serverUrl+"/sho-terms?companyID="+o+"&offeringID="+s,n=L.User.current().getSessionToken(),i=new z;i.open("GET",l,!0),i.responseType="blob",i.setRequestHeader("X-Parse-Application-Id",d.envConfig.getConfig().parseAppId),i.setRequestHeader("X-Parse-Session-Token",n),i.onreadystatechange=function(){if(i.readyState===z.DONE){var m=i.status;if(0===m||m>=200&&m<400){var y=URL.createObjectURL(this.response);h(y)}else p(new Error("Error processing request"))}},i.send()})},b.prototype.auto_kyc_user=function(){return(0,t.__awaiter)(this,void 0,void 0,function(){return(0,t.__generator)(this,function(o){switch(o.label){case 0:return[4,this.runCloud("auto_kyc_user")];case 1:return o.sent(),[4,this.loadProfile()];case 2:return o.sent(),[2]}})})},b.prototype.newsletterSubscribe=function(o){return(0,t.__awaiter)(this,void 0,void 0,function(){return(0,t.__generator)(this,function(h){switch(h.label){case 0:return h.trys.push([0,2,,3]),[4,L.Cloud.run("newsletterSubscribeServer",{email:o})];case 1:return[2,h.sent()];case 2:return h.sent(),[3,3];case 3:return[2]}})})},b.prototype.resumePersonaSession=function(){return(0,t.__awaiter)(this,void 0,void 0,function(){return(0,t.__generator)(this,function(d){switch(d.label){case 0:return d.trys.push([0,2,,3]),[4,L.Cloud.run("resumePersonaSession")];case 1:return[2,d.sent()];case 2:return d.sent(),[3,3];case 3:return[2]}})})},b.prototype.myInvestments=function(){var o=this;return new Promise(function(s,d){return(0,t.__awaiter)(o,void 0,void 0,function(){var h,p;return(0,t.__generator)(this,function(l){switch(l.label){case 0:return l.trys.push([0,2,,3]),[4,L.Cloud.run("myInvestments")];case 1:return h=l.sent(),[2,s(h)];case 2:return p=l.sent(),[2,d(new Error(p))];case 3:return[2]}})})})},b.prototype.getRecentShoWins=function(o){return(0,t.__awaiter)(this,void 0,void 0,function(){var s=this;return(0,t.__generator)(this,function(d){return[2,new Promise(function(h,p){return(0,t.__awaiter)(s,void 0,void 0,function(){var l,r;return(0,t.__generator)(this,function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,L.Cloud.run("getRecentShoWins",{wallet:o})];case 1:return l=n.sent(),[2,h(l)];case 2:return r=n.sent(),[2,p(new Error(r.message))];case 3:return[2]}})})})]})})},b.prototype.dScore=function(o,s){var d=this;return new Promise(function(h,p){return(0,t.__awaiter)(d,void 0,void 0,function(){var l,r;return(0,t.__generator)(this,function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,L.Cloud.run("dScore",{wallet:o,shoGuid:s})];case 1:return l=n.sent(),[2,h(l)];case 2:return r=n.sent(),[2,p(new Error(r.message))];case 3:return[2]}})})})},b.prototype.initUserAllPools=function(o){var s=this;return new Promise(function(d,h){return(0,t.__awaiter)(s,void 0,void 0,function(){var p,r,n=this;return(0,t.__generator)(this,function(i){return p=this.crypto.provider,r=[],this.authQuery.getWallet$.subscribe(function(m){return(0,t.__awaiter)(n,void 0,void 0,function(){var w,I,F,H,k,$;return(0,t.__generator)(this,function(q){if(null!=m){for(I in w=this.envConfig.getConfig(),console.log("company_farms",o),0===o.farms.length&&d(r),o.farms)if(I&&(F=o.farms[I]).farm_contract[w.chainNetwork])for(k in H=!1,F.staking_tokens)if(k){if($=F.staking_tokens[k],new K.CH(F.farm_contract[w.chainNetwork].toLowerCase(),J.abi,p),H)break;console.log("Contract",$.contract[w.chainNetwork]),$.contract[w.chainNetwork]&&(r.push(F),H=!0)}d(r)}else console.log("FIN BIS"),d(r);return[2]})})}),[2]})})})},b.prototype.getDaoPower=function(o){return(0,t.__awaiter)(this,void 0,void 0,function(){var s=this;return(0,t.__generator)(this,function(d){return[2,new Promise(function(h,p){return(0,t.__awaiter)(s,void 0,void 0,function(){var l,r,n,i;return(0,t.__generator)(this,function(m){switch(m.label){case 0:console.log("START GET DAO"),m.label=1;case 1:return m.trys.push([1,5,,6]),o?(this.isLoadingDaoPower$.next(!0),[4,this.getVaultData(this.envConfig.getConfig().networkFull)]):[2];case 2:return l=m.sent(),console.log("daoInit",l),[4,this.initUserAllPools(l)];case 3:return r=m.sent(),console.log("DAOPOWER response",l,r),[4,L.Cloud.run("getDaoPower",{wallet:o,dao:l,network:this.envConfig.getConfig().network})];case 4:return n=m.sent(),this.isLoadingDaoPower$.next(!1),[2,h(n)];case 5:return i=m.sent(),[2,p(new Error(i.message))];case 6:return[2]}})})})]})})},b.prototype.getLockedPersonalCaps=function(o){return(0,t.__awaiter)(this,void 0,void 0,function(){var s=this;return(0,t.__generator)(this,function(d){return[2,new Promise(function(h,p){return(0,t.__awaiter)(s,void 0,void 0,function(){var l,r;return(0,t.__generator)(this,function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,L.Cloud.run("getLockedPersonalCaps",{wallet:o})];case 1:return l=n.sent(),[2,h(l)];case 2:return r=n.sent(),[2,p(new Error(r.message))];case 3:return[2]}})})})]})})},b.prototype.getParticipation=function(o){var s=this;return new Promise(function(d,h){return(0,t.__awaiter)(s,void 0,void 0,function(){var p,l;return(0,t.__generator)(this,function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,L.Cloud.run("getParticipation",{participation_id:o})];case 1:return p=r.sent(),d(p),[3,3];case 2:return l=r.sent(),h(new Error(l)),[3,3];case 3:return[2]}})})})},b.prototype.depositedforSHO=function(o){var s=this;return new Promise(function(d,h){return(0,t.__awaiter)(s,void 0,void 0,function(){var p,l;return(0,t.__generator)(this,function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,L.Cloud.run("depositedforSHO",{participation_id:o})];case 1:return p=r.sent(),d(p),[3,3];case 2:return l=r.sent(),h(new Error(l)),[3,3];case 3:return[2]}})})})},b.prototype.winningPopupShownforSHO=function(o){var s=this;return new Promise(function(d,h){return(0,t.__awaiter)(s,void 0,void 0,function(){var p,l;return(0,t.__generator)(this,function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,L.Cloud.run("winningPopupShownforSHO",{participation_id:o})];case 1:return p=r.sent(),d(p),[3,3];case 2:return l=r.sent(),h(new Error(l)),[3,3];case 3:return[2]}})})})},b.prototype.getSwapPath=function(o,s,d,h){var p=this;return new Promise(function(l,r){return(0,t.__awaiter)(p,void 0,void 0,function(){var n,i;return(0,t.__generator)(this,function(m){switch(m.label){case 0:return m.trys.push([0,2,,3]),[4,L.Cloud.run("getSwapPath",{fromTokenAddress:o,toTokenAddress:s,amount:d,protocols:h})];case 1:return n=m.sent(),l(n),[3,3];case 2:return i=m.sent(),r(new Error(i.message)),[3,3];case 3:return[2]}})})})},b.prototype.getTokenList=function(){var o=this;return new Promise(function(s,d){return(0,t.__awaiter)(o,void 0,void 0,function(){var h,p,l;return(0,t.__generator)(this,function(r){switch(r.label){case 0:return r.trys.push([0,3,,4]),[4,this.crypto.getAddress()];case 1:return h=r.sent(),[4,L.Cloud.run("getTokenList",{connectedWallet:h,ethplorerApiKey:this.envConfig.getConfig().ethplorerApiKey})];case 2:return p=r.sent(),s(p),[3,4];case 3:return l=r.sent(),d(new Error(l.message)),[3,4];case 4:return[2]}})})})},b.prototype.isDisposableEmail=function(o){return(0,t.__awaiter)(this,void 0,void 0,function(){var s;return(0,t.__generator)(this,function(d){return s=(s=new c.LE).append("email",o),[2,this.http.get(""+this.envConfig.getConfig().disposalEmailCheckUrl,{params:s})]})})},b.prototype.searchPlatform=function(o){var s=this;return new Promise(function(d,h){return(0,t.__awaiter)(s,void 0,void 0,function(){var p,l;return(0,t.__generator)(this,function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,L.Cloud.run("searchText",{search_txt:o})];case 1:return p=r.sent(),[2,d(p)];case 2:return l=r.sent(),[2,h(new Error(l.message))];case 3:return[2]}})})})},b.prototype.getSlippage=function(o){return(0,t.__awaiter)(this,void 0,void 0,function(){var s,d,h,p,l,n,i,m,y,C,w,I;return(0,t.__generator)(this,function(k){switch(k.label){case 0:s=1.005,k.label=1;case 1:return k.trys.push([1,7,,8]),[4,this.getAddressTransactions(o,{limit:"100",apiKey:this.ethplorerApiKey,showZeroValues:"1"})];case 2:if(!(d=k.sent()))return[3,6];h=0,p=d,k.label=3;case 3:return h<p.length?(l=p[h]).success&&"0xa9059cbb"===l.input.slice(0,10)?[4,this.getTxInfo(l.hash,{apiKey:"EK-3C9ye-86T6oNw-E9CuY"})]:[3,5]:[3,6];case 4:if((n=k.sent())&&n.operations.length>1){for(i=n.operations[0].tokenInfo.decimals,m=0,y=0,C=0,w=n.operations;C<w.length;C++)l.input.includes((I=w[C]).to.substring(2))?m+=Number(O.bM(I.value,i)):y+=Number(O.bM(I.value,i));s+=y/(m+y),s=Math.ceil(1e3*s)/1e3}return[3,6];case 5:return h++,[3,3];case 6:return[3,8];case 7:return k.sent(),[3,8];case 8:return s>1.05&&(s=1.05),[2,s]}})})},b.prototype.getAddressTransactions=function(o,s){var d=this;return new Promise(function(h,p){return(0,t.__awaiter)(d,void 0,void 0,function(){var l,r;return(0,t.__generator)(this,function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,L.Cloud.run("getAddressTransactions",(0,t.__assign)({token:o},s))];case 1:return l=n.sent(),[2,h(l)];case 2:return r=n.sent(),[2,p(new Error(r.message))];case 3:return[2]}})})})},b.prototype.getTxInfo=function(o,s){var d=this;return new Promise(function(h,p){return(0,t.__awaiter)(d,void 0,void 0,function(){var l,r;return(0,t.__generator)(this,function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,L.Cloud.run("getTxInfo",(0,t.__assign)({txHash:o},s))];case 1:return l=n.sent(),[2,h(l)];case 2:return r=n.sent(),[2,p(new Error(r.message))];case 3:return[2]}})})})},b.\u0275fac=function(s){return new(s||b)(v.\u0275\u0275inject(f.E),v.\u0275\u0275inject(D.F),v.\u0275\u0275inject(g.F0),v.\u0275\u0275inject(B.s),v.\u0275\u0275inject(j.w),v.\u0275\u0275inject(R.l),v.\u0275\u0275inject(A.$),v.\u0275\u0275inject(N.E),v.\u0275\u0275inject(c.eN))},b.\u0275prov=v.\u0275\u0275defineInjectable({token:b,factory:b.\u0275fac,providedIn:"root"}),b}()},84619:function(V,U,e){"use strict";e.d(U,{f:function(){return S}});var t=e(64762),f=e(9470),D=e(72140),M=e(12296),S=function(T){function u(_){var c=T.call(this,_)||this;return c.store=_,c.sortByCreatedTime$=c.selectAll({sortByOrder:D.KM.ASC}),c}return(0,t.__extends)(u,T),u.prototype.getCompany=function(_){return this.getEntity(_)},u.prototype.getCompanyOffering=function(_,c){return this.getEntity(_).offerings.find(function(E){return E.id===c})},u.prototype.getCompanyEntity=function(){return this.selectEntity(this.getActiveId())},u.prototype.getCompanyOfferingsEntity=function(_){return this.selectEntity(this.getActiveId(),function(c){return c.offerings.find(function(E){return E.id===_})})},u.\u0275fac=function(c){return new(c||u)(M.\u0275\u0275inject(f.Z))},u.\u0275prov=M.\u0275\u0275defineInjectable({token:u,factory:u.\u0275fac,providedIn:"root"}),u}(D.Gv)},49217:function(V,U,e){"use strict";e.d(U,{J:function(){return K}});var t=e(64762),f=e(50632),D=e(9470),M=e(81110),S=e(88414),T=e(79996),u=e(94902),c=e(84619),E=e(12296),K=function(){function O(A,v,g){this.companyStateStore=A,this.companyQry=v,this.server=g,this.log=new u.Log(O.name),this.participationType=[{key:"Closed / Private",value:0},{key:"Open / Public",value:1}],this.offeringType=[{name:"SHO",id:1},{name:"Dyco",id:0}]}return O.prototype.prepareCompanies=function(){return(0,t.__awaiter)(this,void 0,void 0,function(){var A,v,g,B=this;return(0,t.__generator)(this,function(j){switch(j.label){case 0:return this.companyStateStore.setLoading(!0),v=(A=(0,M.H)(1e3)).pipe,g=S.h,[4,this.getAllCompanies()];case 1:return[2,v.apply(A,[g.apply(void 0,[j.sent()])]).subscribe(function(R){return B.addToState(R)})]}})})},O.prototype.addToState=function(A){this.companyStateStore.add(A,{prepend:!0}),this.companyStateStore.setLoading(!1)},O.prototype.getActiveCompany=function(A){return this.companyStateStore.setActive(A),this.companyQry.getCompanyEntity()},O.prototype.getActiveCompanyOfferings=function(A,v){return this.companyStateStore.setActive(A),this.companyQry.getCompanyOfferingsEntity(v)},O.prototype.freshStart=function(){this.companyStateStore.remove()},O.prototype.getAllCompanies=function(){return(0,t.__awaiter)(this,void 0,void 0,function(){return(0,t.__generator)(this,function(v){switch(v.label){case 0:return this.freshStart(),[4,this.server.getAllCompanies()];case 1:return[2,v.sent()]}})})},O.prototype.getCompany=function(A){return(0,t.__awaiter)(this,void 0,void 0,function(){var v,g,B=this;return(0,t.__generator)(this,function(j){switch(j.label){case 0:return[4,this.getAllCompanies()];case 1:return v=j.sent(),g=v.find(function(R){return R.id===+A}),[2,(0,M.H)(500).pipe((0,S.h)(g),(0,T.U)(function(){return B.companyStateStore.add(g)}))]}})})},O.\u0275fac=function(v){return new(v||O)(E.\u0275\u0275inject(D.Z),E.\u0275\u0275inject(c.f),E.\u0275\u0275inject(f.s))},O.\u0275prov=E.\u0275\u0275defineInjectable({token:O,factory:O.\u0275fac,providedIn:"root"}),O}()},9470:function(V,U,e){"use strict";e.d(U,{Z:function(){return S}});var t=e(64762),f=e(72140),D=e(12296),M={},S=function(T){function u(){return T.call(this,M)||this}return(0,t.__extends)(u,T),u.\u0275fac=function(c){return new(c||u)},u.\u0275prov=D.\u0275\u0275defineInjectable({token:u,factory:u.\u0275fac,providedIn:"root"}),u=(0,t.__decorate)([(0,f.yC)({name:"companies"}),(0,t.__metadata)("design:paramtypes",[])],u)}(f.cf)},51665:function(V,U,e){"use strict";e.d(U,{E:function(){return M}});var t=e(529),f=e(12296),D=e(81940),M=function(){function S(){this.mergedConfiguration={},this.settings=t.N}return S.prototype.load=function(){var T=this;return new Promise(function(u,_){T.settings?(T.addConfig(JSON.parse(JSON.stringify(T.settings))),u(!0)):u(!1)})},S.prototype.addConfig=function(T){T&&(this.mergedConfiguration=D(this.mergedConfiguration,T))},S.prototype.getConfig=function(){return this.mergedConfiguration},S.\u0275prov=f.\u0275\u0275defineInjectable({token:S,factory:S.\u0275fac=function(u){return new(u||S)},providedIn:"root"}),S}()},78616:function(V,U,e){"use strict";e.d(U,{E:function(){return S}});var t=e(64762),f=e(72140),D=e(12296),M=e(48558),S=function(T){function u(_){var c=T.call(this,_)||this;return c.store=_,c.metamaskConnected$=c.select(function(E){return!!E.wallet}),c.getWallet$=c.select(function(E){return E.wallet}),c.getConnProviderData$=c.select(function(E){return E}),c}return(0,t.__extends)(u,T),u.\u0275fac=function(c){return new(c||u)(D.\u0275\u0275inject(M.K))},u.\u0275prov=D.\u0275\u0275defineInjectable({token:u,factory:u.\u0275fac,providedIn:"root"}),u}(f.AE)},48558:function(V,U,e){"use strict";e.d(U,{K:function(){return S}});var t=e(64762),f=e(72140),D=e(12296),S=function(T){function u(){return T.call(this,{wallet:null,signer:null,chainId:null,chainName:null,provider:null,balance:null,loggedIn:!1})||this}return(0,t.__extends)(u,T),u.\u0275fac=function(c){return new(c||u)},u.\u0275prov=D.\u0275\u0275defineInjectable({token:u,factory:u.\u0275fac,providedIn:"root"}),u=(0,t.__decorate)([(0,f.yC)({name:"auth",resettable:!0}),(0,t.__metadata)("design:paramtypes",[])],u)}(f.yh)},19601:function(V,U,e){"use strict";e.d(U,{$:function(){return l}});var t=e(64762),f=e(51665),D=e(90487),M=e(5831),S=e(15162),T=e(117),u=e(56755),_=e(5037),c=e(76176),E=e(79996),K=e(47727),O=e(78512),A=e(31225),v=JSON.parse('[{"inputs":[{"internalType":"string","name":"name_","type":"string"},{"internalType":"string","name":"symbol_","type":"string"}],"stateMutability":"nonpayable","type":"constructor"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"owner","type":"address"},{"indexed":true,"internalType":"address","name":"spender","type":"address"},{"indexed":false,"internalType":"uint256","name":"value","type":"uint256"}],"name":"Approval","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"from","type":"address"},{"indexed":true,"internalType":"address","name":"to","type":"address"},{"indexed":false,"internalType":"uint256","name":"value","type":"uint256"}],"name":"Transfer","type":"event"},{"inputs":[{"internalType":"address","name":"owner","type":"address"},{"internalType":"address","name":"spender","type":"address"}],"name":"allowance","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"spender","type":"address"},{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"approve","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"account","type":"address"}],"name":"balanceOf","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"decimals","outputs":[{"internalType":"uint8","name":"","type":"uint8"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"spender","type":"address"},{"internalType":"uint256","name":"subtractedValue","type":"uint256"}],"name":"decreaseAllowance","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"spender","type":"address"},{"internalType":"uint256","name":"addedValue","type":"uint256"}],"name":"increaseAllowance","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"name","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"symbol","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"totalSupply","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"recipient","type":"address"},{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"transfer","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"sender","type":"address"},{"internalType":"address","name":"recipient","type":"address"},{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"transferFrom","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"nonpayable","type":"function"}]'),g=JSON.parse('[{"inputs":[{"internalType":"address","name":"_shoOrganizer","type":"address"},{"internalType":"address","name":"_depositReceiver","type":"address"}],"stateMutability":"nonpayable","type":"constructor"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"address","name":"oldDepositReceiver","type":"address"},{"indexed":false,"internalType":"address","name":"newDepositReceiver","type":"address"}],"name":"DepositReceiverChanged","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"winner","type":"address"},{"indexed":true,"internalType":"string","name":"indexedShoId","type":"string"},{"indexed":false,"internalType":"string","name":"shoId","type":"string"},{"indexed":false,"internalType":"contract IERC20","name":"depositToken","type":"address"},{"indexed":false,"internalType":"uint256","name":"amount","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"deadline","type":"uint256"},{"indexed":true,"internalType":"address","name":"depositReceiver","type":"address"},{"indexed":false,"internalType":"address","name":"shoOrganizer","type":"address"}],"name":"Deposited","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"previousOwner","type":"address"},{"indexed":true,"internalType":"address","name":"newOwner","type":"address"}],"name":"OwnershipTransferred","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"uint256","name":"amount","type":"uint256"},{"indexed":false,"internalType":"contract IERC20","name":"token","type":"address"}],"name":"RecoveredERC20","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"address","name":"oldShoOrganizer","type":"address"},{"indexed":false,"internalType":"address","name":"newShoOrganizer","type":"address"}],"name":"ShoOrganizerChanged","type":"event"},{"inputs":[{"internalType":"bytes","name":"signature","type":"bytes"},{"internalType":"string","name":"shoId","type":"string"},{"internalType":"contract IERC20","name":"depositToken","type":"address"},{"internalType":"uint256","name":"amount","type":"uint256"},{"internalType":"uint256","name":"deadline","type":"uint256"}],"name":"deposit","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"depositReceiver","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"string","name":"","type":"string"},{"internalType":"address","name":"","type":"address"}],"name":"depositsForSho","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"owner","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"contract IERC20","name":"token","type":"address"}],"name":"recoverERC20","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"renounceOwnership","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"_depositReceiver","type":"address"}],"name":"setDepositReceiver","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"_shoOrganizer","type":"address"}],"name":"setShoOrganizer","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"shoOrganizer","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"newOwner","type":"address"}],"name":"transferOwnership","outputs":[],"stateMutability":"nonpayable","type":"function"}]'),B=JSON.parse('[{"inputs":[],"name":"WETH","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"pure","type":"function"},{"inputs":[{"internalType":"address","name":"tokenA","type":"address"},{"internalType":"address","name":"tokenB","type":"address"},{"internalType":"uint256","name":"amountADesired","type":"uint256"},{"internalType":"uint256","name":"amountBDesired","type":"uint256"},{"internalType":"uint256","name":"amountAMin","type":"uint256"},{"internalType":"uint256","name":"amountBMin","type":"uint256"},{"internalType":"address","name":"to","type":"address"},{"internalType":"uint256","name":"deadline","type":"uint256"}],"name":"addLiquidity","outputs":[{"internalType":"uint256","name":"amountA","type":"uint256"},{"internalType":"uint256","name":"amountB","type":"uint256"},{"internalType":"uint256","name":"liquidity","type":"uint256"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"token","type":"address"},{"internalType":"uint256","name":"amountTokenDesired","type":"uint256"},{"internalType":"uint256","name":"amountTokenMin","type":"uint256"},{"internalType":"uint256","name":"amountETHMin","type":"uint256"},{"internalType":"address","name":"to","type":"address"},{"internalType":"uint256","name":"deadline","type":"uint256"}],"name":"addLiquidityETH","outputs":[{"internalType":"uint256","name":"amountToken","type":"uint256"},{"internalType":"uint256","name":"amountETH","type":"uint256"},{"internalType":"uint256","name":"liquidity","type":"uint256"}],"stateMutability":"payable","type":"function"},{"inputs":[],"name":"factory","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"pure","type":"function"},{"inputs":[{"internalType":"uint256","name":"amountOut","type":"uint256"},{"internalType":"uint256","name":"reserveIn","type":"uint256"},{"internalType":"uint256","name":"reserveOut","type":"uint256"}],"name":"getAmountIn","outputs":[{"internalType":"uint256","name":"amountIn","type":"uint256"}],"stateMutability":"pure","type":"function"},{"inputs":[{"internalType":"uint256","name":"amountIn","type":"uint256"},{"internalType":"uint256","name":"reserveIn","type":"uint256"},{"internalType":"uint256","name":"reserveOut","type":"uint256"}],"name":"getAmountOut","outputs":[{"internalType":"uint256","name":"amountOut","type":"uint256"}],"stateMutability":"pure","type":"function"},{"inputs":[{"internalType":"uint256","name":"amountOut","type":"uint256"},{"internalType":"address[]","name":"path","type":"address[]"}],"name":"getAmountsIn","outputs":[{"internalType":"uint256[]","name":"amounts","type":"uint256[]"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"amountIn","type":"uint256"},{"internalType":"address[]","name":"path","type":"address[]"}],"name":"getAmountsOut","outputs":[{"internalType":"uint256[]","name":"amounts","type":"uint256[]"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"amountA","type":"uint256"},{"internalType":"uint256","name":"reserveA","type":"uint256"},{"internalType":"uint256","name":"reserveB","type":"uint256"}],"name":"quote","outputs":[{"internalType":"uint256","name":"amountB","type":"uint256"}],"stateMutability":"pure","type":"function"},{"inputs":[{"internalType":"address","name":"tokenA","type":"address"},{"internalType":"address","name":"tokenB","type":"address"},{"internalType":"uint256","name":"liquidity","type":"uint256"},{"internalType":"uint256","name":"amountAMin","type":"uint256"},{"internalType":"uint256","name":"amountBMin","type":"uint256"},{"internalType":"address","name":"to","type":"address"},{"internalType":"uint256","name":"deadline","type":"uint256"}],"name":"removeLiquidity","outputs":[{"internalType":"uint256","name":"amountA","type":"uint256"},{"internalType":"uint256","name":"amountB","type":"uint256"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"token","type":"address"},{"internalType":"uint256","name":"liquidity","type":"uint256"},{"internalType":"uint256","name":"amountTokenMin","type":"uint256"},{"internalType":"uint256","name":"amountETHMin","type":"uint256"},{"internalType":"address","name":"to","type":"address"},{"internalType":"uint256","name":"deadline","type":"uint256"}],"name":"removeLiquidityETH","outputs":[{"internalType":"uint256","name":"amountToken","type":"uint256"},{"internalType":"uint256","name":"amountETH","type":"uint256"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"token","type":"address"},{"internalType":"uint256","name":"liquidity","type":"uint256"},{"internalType":"uint256","name":"amountTokenMin","type":"uint256"},{"internalType":"uint256","name":"amountETHMin","type":"uint256"},{"internalType":"address","name":"to","type":"address"},{"internalType":"uint256","name":"deadline","type":"uint256"}],"name":"removeLiquidityETHSupportingFeeOnTransferTokens","outputs":[{"internalType":"uint256","name":"amountETH","type":"uint256"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"token","type":"address"},{"internalType":"uint256","name":"liquidity","type":"uint256"},{"internalType":"uint256","name":"amountTokenMin","type":"uint256"},{"internalType":"uint256","name":"amountETHMin","type":"uint256"},{"internalType":"address","name":"to","type":"address"},{"internalType":"uint256","name":"deadline","type":"uint256"},{"internalType":"bool","name":"approveMax","type":"bool"},{"internalType":"uint8","name":"v","type":"uint8"},{"internalType":"bytes32","name":"r","type":"bytes32"},{"internalType":"bytes32","name":"s","type":"bytes32"}],"name":"removeLiquidityETHWithPermit","outputs":[{"internalType":"uint256","name":"amountToken","type":"uint256"},{"internalType":"uint256","name":"amountETH","type":"uint256"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"token","type":"address"},{"internalType":"uint256","name":"liquidity","type":"uint256"},{"internalType":"uint256","name":"amountTokenMin","type":"uint256"},{"internalType":"uint256","name":"amountETHMin","type":"uint256"},{"internalType":"address","name":"to","type":"address"},{"internalType":"uint256","name":"deadline","type":"uint256"},{"internalType":"bool","name":"approveMax","type":"bool"},{"internalType":"uint8","name":"v","type":"uint8"},{"internalType":"bytes32","name":"r","type":"bytes32"},{"internalType":"bytes32","name":"s","type":"bytes32"}],"name":"removeLiquidityETHWithPermitSupportingFeeOnTransferTokens","outputs":[{"internalType":"uint256","name":"amountETH","type":"uint256"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"tokenA","type":"address"},{"internalType":"address","name":"tokenB","type":"address"},{"internalType":"uint256","name":"liquidity","type":"uint256"},{"internalType":"uint256","name":"amountAMin","type":"uint256"},{"internalType":"uint256","name":"amountBMin","type":"uint256"},{"internalType":"address","name":"to","type":"address"},{"internalType":"uint256","name":"deadline","type":"uint256"},{"internalType":"bool","name":"approveMax","type":"bool"},{"internalType":"uint8","name":"v","type":"uint8"},{"internalType":"bytes32","name":"r","type":"bytes32"},{"internalType":"bytes32","name":"s","type":"bytes32"}],"name":"removeLiquidityWithPermit","outputs":[{"internalType":"uint256","name":"amountA","type":"uint256"},{"internalType":"uint256","name":"amountB","type":"uint256"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"amountOut","type":"uint256"},{"internalType":"address[]","name":"path","type":"address[]"},{"internalType":"address","name":"to","type":"address"},{"internalType":"uint256","name":"deadline","type":"uint256"}],"name":"swapETHForExactTokens","outputs":[{"internalType":"uint256[]","name":"amounts","type":"uint256[]"}],"stateMutability":"payable","type":"function"},{"inputs":[{"internalType":"uint256","name":"amountOutMin","type":"uint256"},{"internalType":"address[]","name":"path","type":"address[]"},{"internalType":"address","name":"to","type":"address"},{"internalType":"uint256","name":"deadline","type":"uint256"}],"name":"swapExactETHForTokens","outputs":[{"internalType":"uint256[]","name":"amounts","type":"uint256[]"}],"stateMutability":"payable","type":"function"},{"inputs":[{"internalType":"uint256","name":"amountOutMin","type":"uint256"},{"internalType":"address[]","name":"path","type":"address[]"},{"internalType":"address","name":"to","type":"address"},{"internalType":"uint256","name":"deadline","type":"uint256"}],"name":"swapExactETHForTokensSupportingFeeOnTransferTokens","outputs":[],"stateMutability":"payable","type":"function"},{"inputs":[{"internalType":"uint256","name":"amountIn","type":"uint256"},{"internalType":"uint256","name":"amountOutMin","type":"uint256"},{"internalType":"address[]","name":"path","type":"address[]"},{"internalType":"address","name":"to","type":"address"},{"internalType":"uint256","name":"deadline","type":"uint256"}],"name":"swapExactTokensForETH","outputs":[{"internalType":"uint256[]","name":"amounts","type":"uint256[]"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"amountIn","type":"uint256"},{"internalType":"uint256","name":"amountOutMin","type":"uint256"},{"internalType":"address[]","name":"path","type":"address[]"},{"internalType":"address","name":"to","type":"address"},{"internalType":"uint256","name":"deadline","type":"uint256"}],"name":"swapExactTokensForETHSupportingFeeOnTransferTokens","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"amountIn","type":"uint256"},{"internalType":"uint256","name":"amountOutMin","type":"uint256"},{"internalType":"address[]","name":"path","type":"address[]"},{"internalType":"address","name":"to","type":"address"},{"internalType":"uint256","name":"deadline","type":"uint256"}],"name":"swapExactTokensForTokens","outputs":[{"internalType":"uint256[]","name":"amounts","type":"uint256[]"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"amountIn","type":"uint256"},{"internalType":"uint256","name":"amountOutMin","type":"uint256"},{"internalType":"address[]","name":"path","type":"address[]"},{"internalType":"address","name":"to","type":"address"},{"internalType":"uint256","name":"deadline","type":"uint256"}],"name":"swapExactTokensForTokensSupportingFeeOnTransferTokens","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"amountOut","type":"uint256"},{"internalType":"uint256","name":"amountInMax","type":"uint256"},{"internalType":"address[]","name":"path","type":"address[]"},{"internalType":"address","name":"to","type":"address"},{"internalType":"uint256","name":"deadline","type":"uint256"}],"name":"swapTokensForExactETH","outputs":[{"internalType":"uint256[]","name":"amounts","type":"uint256[]"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"amountOut","type":"uint256"},{"internalType":"uint256","name":"amountInMax","type":"uint256"},{"internalType":"address[]","name":"path","type":"address[]"},{"internalType":"address","name":"to","type":"address"},{"internalType":"uint256","name":"deadline","type":"uint256"}],"name":"swapTokensForExactTokens","outputs":[{"internalType":"uint256[]","name":"amounts","type":"uint256[]"}],"stateMutability":"nonpayable","type":"function"}]'),j=JSON.parse('[{"inputs":[{"internalType":"contract IERC20","name":"_buyingToken","type":"address"},{"internalType":"uint24","name":"_lockTime","type":"uint24"},{"internalType":"contract IUniswapV2Router02","name":"_uniswapRouter","type":"address"}],"stateMutability":"nonpayable","type":"constructor"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"user","type":"address"},{"indexed":true,"internalType":"contract IERC20","name":"sellingToken","type":"address"},{"indexed":false,"internalType":"uint256","name":"amountSold","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"amountBought","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"lockedAt","type":"uint256"}],"name":"BuyAndLock","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"uint24","name":"oldLockTime","type":"uint24"},{"indexed":false,"internalType":"uint24","name":"newLockTime","type":"uint24"}],"name":"LockTimeChange","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"previousOwner","type":"address"},{"indexed":true,"internalType":"address","name":"newOwner","type":"address"}],"name":"OwnershipTransferred","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"address","name":"account","type":"address"}],"name":"Paused","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"user","type":"address"},{"indexed":false,"internalType":"uint256","name":"amountUnlocked","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"numberOfUnlocks","type":"uint256"}],"name":"Unlock","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"address","name":"account","type":"address"}],"name":"Unpaused","type":"event"},{"inputs":[{"internalType":"uint256","name":"amountToSell","type":"uint256"},{"internalType":"uint256","name":"minimumAmountToBuy","type":"uint256"},{"internalType":"address[]","name":"swapPath","type":"address[]"},{"internalType":"uint256","name":"swapDeadline","type":"uint256"}],"name":"buyForERC20","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"minimumAmountToBuy","type":"uint256"},{"internalType":"address[]","name":"swapPath","type":"address[]"},{"internalType":"uint256","name":"swapDeadline","type":"uint256"}],"name":"buyForETH","outputs":[],"stateMutability":"payable","type":"function"},{"inputs":[],"name":"buyingToken","outputs":[{"internalType":"contract IERC20","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"userAddress","type":"address"}],"name":"getLockedAmount","outputs":[{"internalType":"uint128","name":"","type":"uint128"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"userAddress","type":"address"}],"name":"getUnlockableAmount","outputs":[{"internalType":"uint128","name":"","type":"uint128"},{"internalType":"uint128","name":"","type":"uint128"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"lockTime","outputs":[{"internalType":"uint24","name":"","type":"uint24"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address[]","name":"userAddresses","type":"address[]"}],"name":"multiUnlockBoughtTokens","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"owner","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"pause","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"paused","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"renounceOwnership","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint24","name":"_lockTime","type":"uint24"}],"name":"setLockTime","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"newOwner","type":"address"}],"name":"transferOwnership","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"uniswapRouter","outputs":[{"internalType":"contract IUniswapV2Router02","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"userAddress","type":"address"}],"name":"unlockBoughtTokens","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"unpause","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"","type":"address"}],"name":"users","outputs":[{"internalType":"uint128","name":"lockedAmountTotal","type":"uint128"},{"internalType":"uint128","name":"indexToUnlock","type":"uint128"}],"stateMutability":"view","type":"function"}]'),R=e(12296),N=e(26959),J=e(42693),L=e(48558),ee=e(85317),z=e(3492),Q=e(30264),b=e(72140),s=function(r){function n(){return r.call(this,{wallet:null,signer:null})||this}return(0,t.__extends)(n,r),n.\u0275fac=function(m){return new(m||n)},n.\u0275prov=R.\u0275\u0275defineInjectable({token:n,factory:n.\u0275fac,providedIn:"root"}),n=(0,t.__decorate)([(0,b.yC)({name:"auth",resettable:!0}),(0,t.__metadata)("design:paramtypes",[])],n)}(b.yh),d=function(){function r(n,i){this.authStore=n,this._router=i}return r.prototype.login=function(n,i){this.authStore.update({wallet:n,signer:i})},r.prototype.logout=function(){this.authStore.reset(),(0,b.W_)(),this._router.navigate(["/"])},r.\u0275fac=function(i){return new(i||r)(R.\u0275\u0275inject(s),R.\u0275\u0275inject(N.F0))},r.\u0275prov=R.\u0275\u0275defineInjectable({token:r,factory:r.\u0275fac,providedIn:"root"}),r}(),h=e(88815),p="0xeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee",l=function(){function r(n,i,m,y,C,w,I,F,H){var k=this;this.router=n,this._http=i,this.cryptoAuthStore=m,this.envConfig=y,this.modalService=C,this.toastr=w,this.walletStore=I,this.authService=F,this.walletConnect=H,this._accounts=new O.X([]),this.$accounts=this._accounts.asObservable(),this._currentNetwork=new O.X(""),this.$currentNetwork=this._currentNetwork.asObservable(),this.resetApp=function(){k.cryptoAuthStore.reset(),k.walletStore.reset()},this.config=this.envConfig.getConfig(),this.activeDerivation=this.config.walletDerivationPath,this.etherscanApiKey=this.config.etherscanApiKey,this.ethplorerApiKey=this.config.ethplorerApiKey,this.infuraKey=this.config.infura_api,this.chainNetwork=this.config.chainNetwork,this.env=this.config.production,this.shoToken=this.config.shoToken,this.shoContract=this.config.shoContract,this.uniswapRouterAddress=this.config.uniswapRouterAddress,this.buyNLockAddress=this.config.buyNLockAddress,this.wethAddress=this.config.wethAddress,this.buyNLockToken=this.config.buyNLockToken}return r.prototype.invest=function(n){var i=this;return new Promise(function(m,y){return(0,t.__awaiter)(i,void 0,void 0,function(){var C,w,I,H,k,X,q;return(0,t.__generator)(this,function(ne){switch(ne.label){case 0:return ne.trys.push([0,3,,4]),C=this.signer,[4,this.signer.getAddress()];case 1:return w=ne.sent(),I=new T.vU(["function transfer(address to, uint amount)"]),H=new M.CH("0x7De78C52a87D5186Ba0Fa16207260798A7cF4B89",I,C),k=u.vz(n.toString(),"ether").toHexString(),[4,H.transfer(w,k)];case 2:return X=ne.sent(),[2,m(X)];case 3:return q=ne.sent(),[2,y(this.providerErrorHandler(q))];case 4:return[2]}})})})},r.prototype.balanceEther=function(n){return(0,t.__awaiter)(this,void 0,void 0,function(){var i;return(0,t.__generator)(this,function(m){return i=this.provider.getBalance(n),[2,u.dF(Number(i))]})})},r.prototype.currentBlock=function(){return(0,t.__awaiter)(this,void 0,void 0,function(){return(0,t.__generator)(this,function(n){return[2,this.provider.getBlockNumber()]})})},r.prototype.getTransactionCount=function(n){return(0,t.__awaiter)(this,void 0,void 0,function(){return(0,t.__generator)(this,function(i){return[2,this.provider.getTransactionCount(n)]})})},r.prototype.txnHistory=function(n){return(0,t.__awaiter)(this,void 0,void 0,function(){var i;return(0,t.__generator)(this,function(C){switch(C.label){case 0:return i=[],[4,(new _.A).getHistory(n)];case 1:return C.sent().forEach(function(w){return i.push(w)}),[2,i]}})})},r.prototype.accountGenerator=function(){return(0,t.__awaiter)(this,void 0,void 0,function(){var n,i=this;return(0,t.__generator)(this,function(m){return n=D.w5.createRandom().mnemonic.toString(),[2,new Promise(function(y,C){try{var I=S.m$.fromMnemonic(i.seedCleaner(n)).derivePath(i.activeDerivation),F=I.extendedKey,H=I.address,k=I.neuter().extendedKey;H?y({mnemonic:n,address:H,xPrivKey:F,xPubKey:k,privKey:I.privateKey,fingerPrint:I.fingerprint}):C(!1)}catch(ne){C(ne)}})]})})},r.prototype.setNetwork=function(){return(0,t.__awaiter)(this,void 0,void 0,function(){return(0,t.__generator)(this,function(n){return localStorage.setItem("chainId",this.chainId),localStorage.setItem("chainName",this.chainName),this._currentNetwork.next(this.chainName),[2]})})},r.prototype.getAccounts=function(){return this._accounts.getValue()},r.prototype.isProviderwalletConnect=function(){return"wallet_connect"===localStorage.getItem("provider_type")},r.prototype.seedCleaner=function(n){var i=n.trim();return(i=i.replace(/[^\w\s]/gi," ")).replace(/\s\s+/g," "),i},r.prototype.cryptoAccount=function(n){return D.w5.fromMnemonic(this.seedCleaner(n),"m/44'/60'/0'/0/0")},r.prototype.getABI=function(n){return this._http.get("https://api.etherscan.io/api?module=contract&action=getabi&address="+n+"&apikey="+this.etherscanApiKey,{observe:"response"})},r.prototype.getTokensHeldByAddress=function(n){return this._http.get("https://api.etherscan.io/api?module=account&action=tokentx&address="+n+"&startblock=0&endblock=999999999999&sort=asc&apikey="+this.etherscanApiKey,{observe:"body"})},r.prototype.getTokensInfo=function(n){return this._http.get("https://api.ethplorer.io/getTokenInfo/"+n+"?apiKey="+this.ethplorerApiKey,{observe:"response"}).pipe((0,E.U)(function(i){return i.body})).pipe((0,K.K)(this.handleEthplorerError))},r.prototype.handleEthplorerError=function(n){return n.error instanceof ErrorEvent?console.error("An error occurred:",n.error.message):(console.error(n.error.error.message),console.error("Backend returned code "+n.status+", body was: "+JSON.stringify(n.error))),(0,A._)(n.error.error.message)},r.prototype.onNetworkChange=function(){return(0,t.__awaiter)(this,void 0,void 0,function(){var n=this;return(0,t.__generator)(this,function(i){return window.ethereum.on("close",function(){return n.resetApp()}),window.ethereum.on("networkChanged",function(m){return(0,t.__awaiter)(n,void 0,void 0,function(){var y;return(0,t.__generator)(this,function(C){return y=localStorage.getItem("chainId"),String(m)!==String(y)&&window.location.reload(),[2]})})}),window.ethereum.on("accountsChanged",function(m){return(0,t.__awaiter)(n,void 0,void 0,function(){return(0,t.__generator)(this,function(y){return m&&this.re_establishConnection(),[2]})})}),[2]})})},r.prototype.balanceTruncate=function(n,i){if(n.includes(".")){var m=n.split(".");return m[0]+"."+m[1].slice(0,i)}return n},r.prototype.processProvider=function(n,i){return(0,t.__awaiter)(this,void 0,void 0,function(){var m,y,C;return(0,t.__generator)(this,function(w){switch(w.label){case 0:return this.signer=n.getSigner(),this.accounts&&this.accounts.length?(this.activeWallet=this.accounts[0],localStorage.setItem("chainId",this.chainId),localStorage.setItem("provider_type",i),[4,this.signer.getBalance()]):[3,2];case 1:m=w.sent(),y=u.bM(m),y=this.balanceTruncate(y,5),this.activeWalletToast(this.activeWallet,(C={wallet:this.activeWallet,signer:this.signer,balance:y,chainId:this.chainId,chainName:this.chainName,provider:n,loggedIn:!0}).chainName),this.processAccountData(C),w.label=2;case 2:return[2]}})})},r.prototype.getSignerWithoutOpen=function(){var n=this;return new Promise(function(i,m){return(0,t.__awaiter)(n,void 0,void 0,function(){var y,C;return(0,t.__generator)(this,function(w){try{y=this.isProviderwalletConnect(),void 0,(C=y?this.accounts[0]:this.provider.getSigner())&&i(C)}catch(I){m(new Error(I))}return[2]})})})},r.prototype.setProvider=function(n){this.provider=n},r.prototype.setSigner=function(n){this.signer=n},r.prototype.signerAddress=function(){return(0,t.__awaiter)(this,void 0,void 0,function(){return(0,t.__generator)(this,function(n){switch(n.label){case 0:return console.log("in signer address.."),[4,this.signer.getAddress()];case 1:return[2,n.sent()]}})})},r.prototype.activeSigner=function(){var n=this;return new Promise(function(i,m){return(0,t.__awaiter)(n,void 0,void 0,function(){var y,C;return(0,t.__generator)(this,function(I){switch(I.label){case 0:return I.trys.push([0,3,,4]),[4,this.getSignerWithoutOpen()];case 1:return y=I.sent(),[4,this.getAddress()];case 2:return(C=I.sent())&&y?(this.address=C,[2,i({wallet:C,signer:y})]):[3,4];case 3:return I.sent(),[2,m(!1)];case 4:return[2]}})})})},r.prototype.setAccount=function(n){this.accounts=n},r.prototype.setChainId=function(n){this.chainId=n},r.prototype.setChainName=function(n){this.chainName=n},r.prototype.getAddress=function(){return(0,t.__awaiter)(this,void 0,void 0,function(){var m=this;return(0,t.__generator)(this,function(y){switch(y.label){case 0:return this.isProviderwalletConnect()?[2,new Promise(function(C,w){return C(m.accounts[0].toLowerCase())})]:[3,1];case 1:return this.signer=this.provider.getSigner(),[4,this.signer.getAddress()];case 2:return[2,y.sent().toLowerCase()]}})})},r.prototype.login=function(){return(0,t.__awaiter)(this,void 0,void 0,function(){var n,i;return(0,t.__generator)(this,function(C){switch(C.label){case 0:return n=this.signer,[4,this.getAddress()];case 1:return i=C.sent(),this.authService.login(i,n),localStorage.setItem("chainId",this.chainId),this.walletStore.update({wallet:i,signer:n,balance:0,chainId:this.chainId,chainName:this.chainName,provider:this.provider,loading:!1}),[2]}})})},r.prototype.processAccountData=function(n){try{this.resetApp();var i={wallet:n.wallet,signer:n.signer,balance:n.balance,chainId:n.chainId,chainName:n.chainName,provider:n.provider,loggedIn:!0};this._currentNetwork.next(n.chainName),this.cryptoAuthStore.update(i)}catch(m){throw m}},r.prototype.initMetamask=function(){return(0,t.__awaiter)(this,void 0,void 0,function(){var n;return(0,t.__generator)(this,function(i){switch(i.label){case 0:return void 0===typeof window.ethereum?[3,3]:"metamask"!==(n=localStorage.getItem("provider_type"))?[3,2]:[4,window.ethereum.enable()];case 1:return i.sent(),this.processProvider(this.provider,"metamask"),[3,3];case 2:"wallet_connect"===n&&this.walletConnect.wc(),i.label=3;case 3:return[2]}})})},r.prototype.initInjectedWallet=function(n){return(0,t.__awaiter)(this,void 0,void 0,function(){return(0,t.__generator)(this,function(i){switch(i.label){case 0:return void 0===typeof window.ethereum?[3,2]:[4,window.ethereum.enable()];case 1:i.sent(),this.provider=new c.Q(window.ethereum),console.log("if it set from here -- injectedwallet"),this.processProvider(this.provider,n),i.label=2;case 2:return[2]}})})},r.prototype.initWalletConnect=function(){return(0,t.__awaiter)(this,void 0,void 0,function(){var n,i,m,y;return(0,t.__generator)(this,function(w){switch(w.label){case 0:return w.trys.push([0,2,,3]),n=this.envConfig.getConfig(),i=n.infura_api,m=window.WalletConnectProvider.default,[4,(y=new m({rpc:{1:"https://mainnet.infura.io/v3/"+i,42:"https://kovan.infura.io/v3/"+i},bridge:"https://bridge.walletconnect.org",qrcode:!0,pollingInterval:12e3})).enable()];case 1:return w.sent(),this.provider=new c.Q(y),this.processProvider(this.provider,"wallet_connect"),[3,3];case 2:throw w.sent();case 3:return[2]}})})},r.prototype.re_establishConnection=function(){switch(localStorage.getItem("provider_type")){case"metamask":this.initInjectedWallet("metamask");break;case"trustwallet":this.initInjectedWallet("trustwallet");break;case"mathwallet":this.initInjectedWallet("mathwallet");break;case"safepalwallet":this.initInjectedWallet("safepalwallet");break;case"wallet_connect":this.initWalletConnect();break;default:this.initInjectedWallet("otherswallet")}},r.prototype.activeWalletToast=function(n,i){this.toastr.currentlyActive||this.toastr.info("Connected to wallet address: "+n+" on the "+i+" network")},r.prototype.switchWalletToast=function(){this.toastr.currentlyActive||this.toastr.error("Please  switch to "+this.config.network+" network")},r.prototype.providerErrorHandler=function(n){var i=n.message;return n.message.includes("Already processing eth_requestAccounts")&&(i="Please open metamask and login."),n.message.includes("not whitelisted")&&(i="Your connected wallet is not whitelisted. Please switch to the account which is whitelisted."),n.message.includes("CALL_EXCEPTION")&&(i="Are you connected to the right network ? please switch to mainnet."),n.message.includes("MISSING_ARGUMENT")&&(i="Issue with contract parameters"),n.message.includes("User denied transaction signature")&&(i="You need to approve the transaction."),n.message.includes("The operation couldn\u2019t be completed. (Trust.DAppError error 0.)")&&(i="You rejected the transaction."),n.message.includes("underlying network changed")&&(i="The network changed unexpectedly, please try again."),i},r.prototype.getTokenAllowance=function(n,i){var m=this;return new Promise(function(y,C){return(0,t.__awaiter)(m,void 0,void 0,function(){var w,I,k,$;return(0,t.__generator)(this,function(X){switch(X.label){case 0:w="0x41B856701BB8c24CEcE2Af10651BfAfEbb57cf49",I="0xa0b86991c6218b36c1d19d4a2e9eb0ce3606eb48",X.label=1;case 1:return X.trys.push([1,3,,4]),[4,new M.CH(I,[{constant:!0,inputs:[{name:"owner",type:"address"},{name:"spender",type:"address"}],name:"allowance",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"}],this.provider).allowance(w).catch(function(q){return C(q.message)})];case 2:return k=X.sent(),[2,y(u.bM(k,6))];case 3:return $=X.sent(),[2,C(new Error($.message))];case 4:return[2]}})})})},r.prototype.getTokenBalance=function(n,i){var m=this;return new Promise(function(y,C){return(0,t.__awaiter)(m,void 0,void 0,function(){var F,H,k;return(0,t.__generator)(this,function($){switch($.label){case 0:return $.trys.push([0,2,,3]),[4,new M.CH(n,[{constant:!0,inputs:[{name:"_owner",type:"address"}],name:"balanceOf",outputs:[{name:"balance",type:"uint256"}],payable:!1,type:"function"}],this.provider).balanceOf(i).catch(function(X){return C(X.message)})];case 1:return F=$.sent(),H=u.bM(F,this.config.currency_digits),[2,y(H)];case 2:return k=$.sent(),[2,C(new Error(k.message))];case 3:return[2]}})})})},r.prototype.changeWallet=function(){var n=this;return new Promise(function(i,m){return(0,t.__awaiter)(n,void 0,void 0,function(){var y,C;return(0,t.__generator)(this,function(w){switch(w.label){case 0:return w.trys.push([0,3,,4]),(y=localStorage.getItem("provider_type"))&&"metamask"===y?[4,window.ethereum.request({method:"wallet_requestPermissions",params:[{eth_accounts:{}}]})]:[3,2];case 1:w.sent(),i(),w.label=2;case 2:return[3,4];case 3:return C=w.sent(),m(new Error(C.message)),[3,4];case 4:return[2]}})})})},r.prototype.isSHOTokenApproved=function(n){return(0,t.__awaiter)(this,void 0,void 0,function(){return(0,t.__generator)(this,function(i){switch(i.label){case 0:return[4,this.isTokenApproved(n,this.shoToken,this.shoContract)];case 1:return[2,i.sent()]}})})},r.prototype.depositedForSHO=function(n){return(0,t.__awaiter)(this,void 0,void 0,function(){var i;return(0,t.__generator)(this,function(y){switch(y.label){case 0:return[4,this.getAddress()];case 1:return i=y.sent(),[4,new M.CH(this.shoContract,g,this.provider).depositsForSho(n,i)];case 2:return[2,y.sent()]}})})},r.prototype.approveSHOToken=function(){return(0,t.__awaiter)(this,void 0,void 0,function(){return(0,t.__generator)(this,function(n){switch(n.label){case 0:return[4,this.approveToken(this.shoToken,this.shoContract)];case 1:return n.sent(),[2]}})})},r.prototype.sendSHOToken=function(n,i,m,y){return(0,t.__awaiter)(this,void 0,void 0,function(){var w,I;return(0,t.__generator)(this,function(k){switch(k.label){case 0:return[4,new M.CH(this.shoToken,v,this.signer).decimals()];case 1:return w=k.sent(),I=u.vz(m.toString(),w),[4,new M.CH(this.shoContract,g,this.signer).deposit(n,i,this.shoToken,I,y)];case 2:return[4,k.sent().wait()];case 3:return k.sent(),[2]}})})},r.prototype.switchToBSC=function(){return(0,t.__awaiter)(this,void 0,void 0,function(){return(0,t.__generator)(this,function(i){switch(i.label){case 0:return[4,window.ethereum.request({method:"wallet_addEthereumChain",params:[{chainId:"0x38",chainName:"BSCMAINET",rpcUrls:["https://bsc-dataseed1.binance.org"],nativeCurrency:{name:"BINANCE COIN",symbol:"BNB",decimals:18},blockExplorerUrls:["https://testnet.bscscan.com/"]}]})];case 1:return i.sent(),[2]}})})},r.prototype.switchToETHMainnet=function(){return(0,t.__awaiter)(this,void 0,void 0,function(){return(0,t.__generator)(this,function(n){switch(n.label){case 0:return[4,window.ethereum.request({method:"wallet_switchEthereumChain",params:[{chainId:"0x1"}]})];case 1:return n.sent(),[2]}})})},r.prototype.isTokenApproved=function(n,i,m){return void 0===m&&(m=this.buyNLockAddress),(0,t.__awaiter)(this,void 0,void 0,function(){var y,C,w,I;return(0,t.__generator)(this,function(H){switch(H.label){case 0:return i.toLowerCase()===p?[2,!0]:[4,this.getAddress()];case 1:return y=H.sent(),[4,(C=new M.CH(i,v,this.provider)).decimals()];case 2:return w=H.sent(),[4,C.allowance(y,m)];case 3:return I=H.sent(),[2,Number(u.bM(I.toString(),w))>=n]}})})},r.prototype.approveToken=function(n,i){return void 0===i&&(i=this.buyNLockAddress),(0,t.__awaiter)(this,void 0,void 0,function(){var m,y,C;return(0,t.__generator)(this,function(I){switch(I.label){case 0:return m=1e15,[4,(y=new M.CH(n,v,this.signer)).decimals()];case 1:return C=I.sent(),[4,y.approve(i,u.vz(m.toString(),C))];case 2:return[4,I.sent().wait()];case 3:return I.sent(),[2]}})})},r.prototype.getAmountIn=function(n,i,m){return void 0===m&&(m=1.005),(0,t.__awaiter)(this,void 0,void 0,function(){var C,w,F,k;return(0,t.__generator)(this,function($){switch($.label){case 0:return i.length<2?[2,0]:[4,new M.CH(i[i.length-1],v,this.signer).decimals()];case 1:return C=$.sent(),w=u.vz(n.toString(),C),[4,new M.CH(i[0],v,this.signer).decimals()];case 2:return F=$.sent(),[4,new M.CH(this.uniswapRouterAddress,B,this.signer).getAmountsIn(w,i)];case 3:return k=$.sent(),[2,Number(u.bM(k[0].toString(),F))*m]}})})},r.prototype.getWalletTokenBalance=function(n){return(0,t.__awaiter)(this,void 0,void 0,function(){var i,m,y,C,w;return(0,t.__generator)(this,function(I){switch(I.label){case 0:return n.toLowerCase()!==p?[3,2]:[4,this.signer.getBalance()];case 1:return i=I.sent(),[2,u.bM(i)];case 2:return[4,this.getAddress()];case 3:return m=I.sent(),[4,(y=new M.CH(n,v,this.signer)).decimals()];case 4:return C=I.sent(),[4,y.balanceOf(m)];case 5:return w=I.sent(),[2,u.bM(w,C)]}})})},r.prototype.tranchUpgrade=function(n,i,m,y){return void 0===y&&(y=1.005),(0,t.__awaiter)(this,void 0,void 0,function(){var C,w,F,H,k,$;return(0,t.__generator)(this,function(q){switch(q.label){case 0:if(m.length<2)throw new Error("invalid swapPath");return C=Math.round(Date.now()/1e3)+1800,w=new M.CH(this.buyNLockAddress,j,this.signer),[4,new M.CH(m[0],v,this.signer).decimals()];case 1:return F=q.sent(),[4,this.getAmountIn(n,m,y)];case 2:return H=q.sent(),k=u.vz(H.toString(),F),$=u.vz(n.toString(),18),i.toLowerCase()!==p?[3,5]:[4,w.buyForETH($,m,C,{value:k})];case 3:return[4,q.sent().wait()];case 4:return q.sent(),[3,8];case 5:return[4,w.buyForERC20(k,$,m,C)];case 6:return[4,q.sent().wait()];case 7:q.sent(),q.label=8;case 8:return[2]}})})},r.prototype.getSwapPath=function(n){return(0,t.__awaiter)(this,void 0,void 0,function(){var i,m,y,C=this;return(0,t.__generator)(this,function(w){try{if((i=n.protocols[0]).length<1)return[2,[]];for(m=[i[0][0].fromTokenAddress,i[0][0].toTokenAddress],y=1;y<i.length;y++)m.push(i[y][0].toTokenAddress);return(m=m.map(function(I){return I.toLowerCase()===p?C.wethAddress:I})).reverse(),[2,m]}catch(I){return[2,[]]}return[2]})})},r.prototype.getTokenList=function(n){return(0,t.__awaiter)(this,void 0,void 0,function(){var i,m,y,C,w,I,F;return(0,t.__generator)(this,function(H){switch(H.label){case 0:return i=[{symbol:"ETH",name:"Ethereum",address:"0xeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee",balance:"0"}],"kovan"!==this.envConfig.getConfig().chainNetwork?[3,2]:(y=(m=i).push,F={symbol:"UPGD2",name:"UPGRADE DAO",address:"0x006ea5b046634e6797d3e3915D15216813B8F41A"},[4,this.getWalletTokenBalance("0x006ea5b046634e6797d3e3915D15216813B8F41A")]);case 1:y.apply(m,[(F.balance=H.sent(),F)]),H.label=2;case 2:try{if(console.log("Data of token List",n),i[0].balance=u.bM(n.ETH.rawBalance),console.log(n),n&&n.tokens)for(C=0,w=n.tokens;C<w.length;C++)(I=w[C]).tokenInfo.price&&I.tokenInfo.address.toLowerCase()!==this.buyNLockToken.toLowerCase()&&i.push({symbol:I.tokenInfo.symbol,name:I.tokenInfo.name,address:I.tokenInfo.address,balance:u.bM(I.rawBalance,I.tokenInfo.decimals)})}catch(k){console.log("Error crypto Service",k)}return[2,i]}})})},r.prototype.errorHandler=function(n){var i,m,y=(null===(i=n.error)||void 0===i?void 0:i.message)||n.message,C=(null===(m=n.error)||void 0===m?void 0:m.data)||n.data;return y.includes("VM execution error.")?C.includes("Reverted 0x")?(C=C.substr(9),String(this.hex_to_ascii(C))):void 0:y},r.prototype.hex_to_ascii=function(n){for(var i=n.toString(),m="",y=0;y<i.length;y+=2)m+=String.fromCharCode(parseInt(i.substr(y,2),16));return m},r.\u0275fac=function(i){return new(i||r)(R.\u0275\u0275inject(N.F0),R.\u0275\u0275inject(J.eN),R.\u0275\u0275inject(L.K),R.\u0275\u0275inject(f.E),R.\u0275\u0275inject(ee.FF),R.\u0275\u0275inject(z._W),R.\u0275\u0275inject(Q.G),R.\u0275\u0275inject(d),R.\u0275\u0275inject(h.C))},r.\u0275prov=R.\u0275\u0275defineInjectable({token:r,factory:r.\u0275fac,providedIn:"root"}),r}()},94187:function(V,U,e){"use strict";e.d(U,{a:function(){return S}});var t=e(94902),D=e(67455),M=e(12296),S=function(){function T(){this.log=new t.Log(T.name),this.positionWatchId=null}return T.prototype.getUserPosition=function(){var u=this,_={maximumAge:6e4,timeout:5e3,enableHighAccuracy:!0};return this.positionWatchId=null,new Promise(function(c,E){try{u.positionWatchId=D.b.watchPosition(_,function(K,O){D.b.clearWatch({id:u.positionWatchId}),K&&c({coords:{latitude:K.coords.latitude,longitude:K.coords.longitude}}),O&&E(O)})}catch(K){E(K)}})},T.\u0275prov=M.\u0275\u0275defineInjectable({token:T,factory:T.\u0275fac=function(_){return new(_||T)},providedIn:"root"}),T}()},92979:function(V,U,e){"use strict";e.d(U,{l:function(){return D}});var t=e(55959),f=e(12296),D=function(){function M(){this._next=new t.xQ,this.$next=this._next.asObservable()}return M.prototype.next=function(S){this._next.next(S)},M.\u0275prov=f.\u0275\u0275defineInjectable({token:M,factory:M.\u0275fac=function(T){return new(T||M)}}),M}()},39737:function(V,U,e){"use strict";e.d(U,{z:function(){return S}});var t=e(64762),f=e(72140),D=e(12296),M=e(66109),S=function(T){function u(_){var c=T.call(this,_)||this;return c.store=_,c}return(0,t.__extends)(u,T),u.\u0275fac=function(c){return new(c||u)(D.\u0275\u0275inject(M.k))},u.\u0275prov=D.\u0275\u0275defineInjectable({token:u,factory:u.\u0275fac,providedIn:"root"}),u}(f.Gv)},63511:function(V,U,e){"use strict";e.d(U,{n:function(){return T}});var t=e(64762),f=e(50632),D=e(12296),M=e(66109),S=e(39737),T=function(){function u(_,c,E){this.store=_,this.query=c,this.api=E}return u.prototype.prepareMyInvestments=function(){return(0,t.__awaiter)(this,void 0,void 0,function(){var _;return(0,t.__generator)(this,function(E){switch(E.label){case 0:return E.trys.push([0,2,,3]),[4,this.api.myInvestments()];case 1:return _=E.sent(),this.store.set(_),[2,_];case 2:return E.sent(),[3,3];case 3:return[2]}})})},u.\u0275fac=function(c){return new(c||u)(D.\u0275\u0275inject(M.k),D.\u0275\u0275inject(S.z),D.\u0275\u0275inject(f.s))},u.\u0275prov=D.\u0275\u0275defineInjectable({token:u,factory:u.\u0275fac,providedIn:"root"}),u}()},66109:function(V,U,e){"use strict";e.d(U,{k:function(){return M}});var t=e(64762),f=e(72140),D=e(12296),M=function(S){function T(){return S.call(this)||this}return(0,t.__extends)(T,S),T.\u0275fac=function(_){return new(_||T)},T.\u0275prov=D.\u0275\u0275defineInjectable({token:T,factory:T.\u0275fac,providedIn:"root"}),T=(0,t.__decorate)([(0,f.yC)({name:"investments",idKey:"objectId"}),(0,t.__metadata)("design:paramtypes",[])],T)}(f.cf)},49961:function(V,U,e){"use strict";e.d(U,{w:function(){return S}});var t=e(64762),f=e(72140),D=e(12296),M=e(39760),S=function(T){function u(_){var c=T.call(this,_)||this;return c.store=_,c.isLoggedIn$=c.select(function(E){return!0===E.loggedIn}),c.isLoggedInPending$=c.select(function(E){return E.isLoggedInPending}),c.kyc_lvl1$=c.select(function(E){return E.userProfile&&E.userProfile.kyc_lvl1}),c.kyc_lvl2$=c.select(function(E){return E.userProfile&&E.userProfile.kyc_lvl2}),c.isDarkTheme$=c.select(function(E){return!!E.theme}),c.currentProfile$=c.select(function(E){return E.userProfile}),c.mfaEnabled$=c.select(function(E){return E.userProfile&&E.userProfile.mfa_enabled}),c.isemailVerified$=c.select(function(E){return!0===E.emailVerified}),c.is2faVerified$=!!localStorage.getItem("dao_google_auth"),c}return(0,t.__extends)(u,T),u.\u0275fac=function(c){return new(c||u)(D.\u0275\u0275inject(M.s))},u.\u0275prov=D.\u0275\u0275defineInjectable({token:u,factory:u.\u0275fac,providedIn:"root"}),u}(f.AE)},96406:function(V,U,e){"use strict";e.d(U,{c:function(){return E}});var t=e(64762),f=e(50632),D=e(94902),S=e(94187),T=e(25748),u=e(12296),_=e(39760),c=e(49961),E=function(){function K(O,A,v,g,B){this.server=O,this.ui=A,this.locationservice=v,this.userStore=g,this.userQuery=B,this.log=new D.Log(K.name)}return K.prototype.getMyProfile=function(){return this.userQuery.currentProfile$},K.prototype.loadProfile=function(){return(0,t.__awaiter)(this,void 0,void 0,function(){return(0,t.__generator)(this,function(O){switch(O.label){case 0:return[4,this.server.loadProfile()];case 1:return O.sent(),[2]}})})},K.prototype.updateProfile=function(O){return(0,t.__awaiter)(this,void 0,void 0,function(){var A;return(0,t.__generator)(this,function(v){switch(v.label){case 0:return this.log.log("Updating profile with: "+O),A=this,[4,this.server.updateProfile(O)];case 1:return A.profile=v.sent(),this.log.log("Profile updated to: "+this.profile),[2,this.profile]}})})},K.prototype.updateKYC=function(O){return(0,t.__awaiter)(this,void 0,void 0,function(){var A;return(0,t.__generator)(this,function(v){switch(v.label){case 0:return this.log.log("Updating profile with: "+O),A=this,[4,this.server.updateKYC(O)];case 1:return A.profile=v.sent(),this.log.log("Profile updated to: "+this.profile),[2,this.profile]}})})},K.prototype.setPhoto=function(O){return(0,t.__awaiter)(this,void 0,void 0,function(){var g;return(0,t.__generator)(this,function(B){switch(B.label){case 0:return this.log.log("setPhoto()"),[4,this.server.saveFile("photo.png",O)];case 1:return B.sent(),this.log.log("Photo file saved. Saving to profile..."),g=this,[4,this.updateProfile({})];case 2:return g.profile=B.sent(),[2,this.profile]}})})},K.prototype.isValid=function(){var O=!!this.profile&&null!==this.profile.firstname&&null!==this.profile.lastname&&null!==this.profile.dob;return this.log.log("@isValid(): "+O),O},K.\u0275fac=function(A){return new(A||K)(u.\u0275\u0275inject(f.s),u.\u0275\u0275inject(T.F),u.\u0275\u0275inject(S.a),u.\u0275\u0275inject(_.s),u.\u0275\u0275inject(c.w))},K.\u0275prov=u.\u0275\u0275defineInjectable({token:K,factory:K.\u0275fac}),K}()},39760:function(V,U,e){"use strict";e.d(U,{s:function(){return S}});var t=e(64762),f=e(72140),D=e(12296),S=function(T){function u(){return T.call(this,{id:null,userProfile:null,loggedIn:!1,isLoggedInPending:!1,theme:!1,emailVerified:!1,mfaEnabled:!1,is2faVerified:!!localStorage.getItem("dao_google_auth"),kyc_lvl1:!1,kyc_lvl2:!1})||this}return(0,t.__extends)(u,T),u.\u0275fac=function(c){return new(c||u)},u.\u0275prov=D.\u0275\u0275defineInjectable({token:u,factory:u.\u0275fac,providedIn:"root"}),u=(0,t.__decorate)([(0,f.yC)({name:"profile"}),(0,t.__metadata)("design:paramtypes",[])],u)}(f.yh)},64178:function(V,U,e){"use strict";e.d(U,{I:function(){return A}});var t=e(64762),f=e(50632),D=e(42413),M=e(62114),S=e(94902),u=e(25748),_=e(51665),c=e(12296),E=e(26959),K=e(39760),O=e(92979),A=function(){function v(g,B,j,R,N,J,L){this.server=g,this.userService=B,this.ui=j,this._router=R,this.userState=J,this.loginSequence=L,this.log=new S.Log(v.name),this.googleOauthConfig=N.getConfig().oAuth.google,this.facebookOauthConfig=N.getConfig().oAuth.facebook}return v.prototype.processGoogleAuth=function(g){return(0,t.__awaiter)(this,void 0,void 0,function(){return(0,t.__generator)(this,function(B){return this.authenticate("google",g.id,"access_token",g.access_token,g.picture,g.name,g.email),[2]})})},v.prototype.processFacebookAuth=function(g){return(0,t.__awaiter)(this,void 0,void 0,function(){return(0,t.__generator)(this,function(j){return this.authenticate("facebook",g.id,"access_token",g.access_token,g.picture.data.url,g.name,g.email),[2]})})},v.prototype.authenticate=function(g,B,j,R,N,J,L){return(0,t.__awaiter)(this,void 0,void 0,function(){return(0,t.__generator)(this,function(Q){switch(Q.label){case 0:return Q.trys.push([0,2,,3]),[4,this.server.oauth(g,B,j,R,N,J,L)];case 1:return Q.sent(),this.loginSequence.next(),[3,3];case 2:return[2,Q.sent()];case 3:return[2]}})})},v.prototype.logout=function(){return(0,t.__awaiter)(this,void 0,void 0,function(){var g;return(0,t.__generator)(this,function(B){switch(B.label){case 0:return B.trys.push([0,3,,4]),this.userService.logout(),[4,D.l.logout(this.googleOauthConfig)];case 1:return B.sent(),[4,D.l.logout(this.facebookOauthConfig)];case 2:return B.sent(),[3,4];case 3:return g=B.sent(),this.log.error("Error logging out "+g),[3,4];case 4:return[2]}})})},v.\u0275fac=function(B){return new(B||v)(c.\u0275\u0275inject(f.s),c.\u0275\u0275inject(M.K),c.\u0275\u0275inject(u.F),c.\u0275\u0275inject(E.F0),c.\u0275\u0275inject(_.E),c.\u0275\u0275inject(K.s),c.\u0275\u0275inject(O.l))},v.\u0275prov=c.\u0275\u0275defineInjectable({token:v,factory:v.\u0275fac,providedIn:"root"}),v}()},99161:function(V,U,e){"use strict";e.d(U,{J:function(){return K}});var t=e(64762),f=e(51665),D=e(96406),M=e(50632),S=e(29609),u=e(12296),_=e(39760),c=e(49961),E=e(3492),K=function(){function O(A,v,g,B,j,R){this.envConfig=A,this.myProfile=v,this.userState=g,this.userQuery=B,this.server=j,this.toastr=R,this.persona_prefill={};var N=this.envConfig.getConfig();this.personaApiKey=N.personaTemplateKey,this.personaConfig=N.personaConfig}return O.prototype.launchPersona=function(){return(0,t.__awaiter)(this,void 0,void 0,function(){var A,v,g=this;return(0,t.__generator)(this,function(B){return document.getElementById("loadingKYC").classList.remove("d-none"),this.userQuery.currentProfile$.subscribe(function(j){g.profile=j,g.kyc_inquiryId=g.profile.kyc_inquiryId?g.profile.kyc_inquiryId:null,g.profile.firstname&&(g.persona_prefill.nameFirst=g.profile.firstname),g.profile.lastname&&(g.persona_prefill.nameLast=g.profile.lastname),g.profile.dob&&(g.persona_prefill.birthdate=S(g.profile.dob).format("YYYY-MM-DD")),console.log(g.persona_prefill)}),A=document.getElementsByTagName("head")[0],(v=document.createElement("script")).type="text/javascript",v.defer=!0,v.async=!0,this.kyc_inquiryId?this.getPersonaSessionToken():(v.onload=function(){g.platformJsLoaded(g.personaApiKey,g.personaConfig)},v.src="https://cdn.withpersona.com/dist/persona-v3.4.1.js",A.appendChild(v)),[2]})})},O.prototype.getPersonaSessionToken=function(){return(0,t.__awaiter)(this,void 0,void 0,function(){var A,v,g,B,R=this;return(0,t.__generator)(this,function(N){switch(N.label){case 0:return N.trys.push([0,2,,3]),A=document.getElementsByTagName("head")[0],(v=document.createElement("script")).type="text/javascript",v.defer=!0,v.async=!0,[4,this.server.resumePersonaSession()];case 1:return g=N.sent(),(g=JSON.parse(g))&&g.meta&&g.meta["session-token"]&&g&&g.data&&g.data.attributes&&!g.data.attributes["expired-at"]&&!g.data.attributes["failed-at"]&&"pending"!==g.data.attributes.status?(B=g.meta["session-token"],v.onload=function(){R.resumeKYCSession(R.personaConfig,R.kyc_inquiryId,B)},v.src="https://cdn.withpersona.com/dist/persona-v3.4.1.js",A.appendChild(v)):(v.onload=function(){R.platformJsLoaded(R.personaApiKey,R.personaConfig)},v.src="https://cdn.withpersona.com/dist/persona-v3.4.1.js",A.appendChild(v)),[3,3];case 2:return N.sent(),[3,3];case 3:return[2]}})})},O.prototype.platformJsLoaded=function(A,v){var g=this,B=new Persona.Client({templateId:A,environment:v,onLoad:function(j){B.open(),document.getElementById("loadingKYC").classList.add("d-none")},onExit:function(j){return(0,t.__awaiter)(g,void 0,void 0,function(){return(0,t.__generator)(this,function(R){return B.exit(),[2]})})},onStart:function(j){return(0,t.__awaiter)(g,void 0,void 0,function(){var R;return(0,t.__generator)(this,function(N){switch(N.label){case 0:return(R={}).kyc_inquiryId=j,this.profile.kyc_inquiryId=j,this.userState.update({userProfile:this.profile}),[4,this.myProfile.updateKYC(R)];case 1:return N.sent(),[2]}})})},onComplete:function(j){return(0,t.__awaiter)(g,void 0,void 0,function(){var R;return(0,t.__generator)(this,function(N){return(R={}).kyc_inquiryId=j,this.updateKYC(R),[2]})})},prefill:this.persona_prefill})},O.prototype.resumeKYCSession=function(A,v,g){var B=this,j=new Persona.Client({inquiryId:v,environment:A,accessToken:g,onLoad:function(R){j.open(),document.getElementById("loadingKYC").classList.add("d-none")},onExit:function(R){return(0,t.__awaiter)(B,void 0,void 0,function(){return(0,t.__generator)(this,function(N){return j.exit(),[2]})})},onStart:function(R){return(0,t.__awaiter)(B,void 0,void 0,function(){return(0,t.__generator)(this,function(N){return[2]})})},onComplete:function(R){return(0,t.__awaiter)(B,void 0,void 0,function(){var N;return(0,t.__generator)(this,function(J){return(N={}).kyc_inquiryId=R,this.updateKYC(N),[2]})})},prefill:this.persona_prefill})},O.prototype.updateKYC=function(A){return(0,t.__awaiter)(this,void 0,void 0,function(){var v=this;return(0,t.__generator)(this,function(g){try{document.getElementById("loadingKYC").classList.remove("d-none"),this.myProfile.updateKYC(A).then(function(B){return(0,t.__awaiter)(v,void 0,void 0,function(){return(0,t.__generator)(this,function(j){return this.server.loadProfile(),document.getElementById("loadingKYC").classList.add("d-none"),[2]})})}),this.toastr.success("Your KYC details submitted successfully.","Success!")}catch(B){document.getElementById("loadingKYC").classList.add("d-none"),this.toastr.error("Error submitting KYC "+B,"Error!")}return[2]})})},O.\u0275fac=function(v){return new(v||O)(u.\u0275\u0275inject(f.E),u.\u0275\u0275inject(D.c),u.\u0275\u0275inject(_.s),u.\u0275\u0275inject(c.w),u.\u0275\u0275inject(M.s),u.\u0275\u0275inject(E._W))},O.\u0275prov=u.\u0275\u0275defineInjectable({token:O,factory:O.\u0275fac,providedIn:"root"}),O}()},25748:function(V,U,e){"use strict";e.d(U,{F:function(){return u}});var t=e(64762),f=e(78512),D=e(98720),M=e(529),S=e(12296),T=e(99624),u=function(){function _(c,E){this.sanitizer=c,this.defaultLanguage="en",this.isDesktop=new f.X(!1),this.languages=[{language:"en",flag:"gb",title:"LANGUAGE_ENGLISH"},{language:"cz",flag:"cz",title:"LANGUAGE_CZECH"}],this.network=M.N.network,this.toasts=[],this.colorScheme="light",this.colorSchemePrefix="color-scheme-",this.renderer=E.createRenderer(null,null)}return _.convertImgIdToBase64=function(c){if(!c)throw new Error("convertImgIdToBase64 requires imgId");var E=document.getElementById(c);if(!E)throw new Error("Could not find element with id "+c);return this.convertImgToBase64(E)},_.convertImgToBase64=function(c){var E=document.createElement("canvas");E.width=c.clientWidth,E.height=c.clientHeight;var K=E.getContext("2d");if(null===K)throw new Error("Unable to get canvas 2d context");return K.drawImage(c,0,0),E.toDataURL("image/png").replace(/^data:image\/(png|jpg);base64,/,"")},_.prototype.onResize=function(c){this.isDesktop.next(!(c<568))},_.prototype.isDesktopView=function(){return this.isDesktop.asObservable().pipe((0,D.x)())},_.prototype.setAppLanguage=function(c){localStorage.setItem("language",c)},_.prototype.getAppLanguage=function(){return(0,t.__awaiter)(this,void 0,void 0,function(){var c;return(0,t.__generator)(this,function(E){return(c=localStorage.getItem("language"))?[2,c]:[2,this.defaultLanguage]})})},_.prototype.loadAppLanguage=function(){return(0,t.__awaiter)(this,void 0,void 0,function(){var c;return(0,t.__generator)(this,function(E){switch(E.label){case 0:return[4,this.getAppLanguage()];case 1:return c=E.sent(),this.setAppLanguage(c),[2]}})})},_.prototype.loading=function(c,E,K,O){return(0,t.__awaiter)(this,void 0,void 0,function(){return(0,t.__generator)(this,function(A){return[2]})})},_.prototype.imageUrlToBase64=function(c){return new Promise(function(E,K){var O=new Image;O.crossOrigin="anonymous",O.onerror=function(A){K(A)},O.onload=function(){var A=document.createElement("canvas");A.width=O.width,A.height=O.height;var v=A.getContext("2d");null!==v?(v.drawImage(O,0,0),E(A.toDataURL("image/png"))):K("Unable to get canvas 2d context")},O.src=c})},_.prototype.cropAddress=function(c){return c.toString().substr(0,9)+"..."+c.toString().substr(-4)},_.prototype.getBackground=function(c){return this.sanitizer.bypassSecurityTrustStyle("url("+c+")")},_.prototype.isUpperCase=function(c){return c.toString()===c.toString().toUpperCase()},_.prototype._detectPrefersColorScheme=function(){this.colorScheme="not all"!==window.matchMedia("(prefers-color-scheme)").media&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"},_.prototype._setColorScheme=function(c){this.colorScheme=c,localStorage.setItem(this.network+"-prefers-color",c)},_.prototype._getColorScheme=function(){this.colorScheme=localStorage.getItem(this.network+"-prefers-color")?localStorage.getItem(this.network+"-prefers-color"):"light"},_.prototype.loadTheme=function(){this._getColorScheme(),this.renderer.addClass(document.body,this.colorSchemePrefix+this.colorScheme),this.renderer.addClass(document.documentElement,this.colorSchemePrefix+this.colorScheme)},_.prototype.updateTheme=function(c){this._setColorScheme(c),this.renderer.removeClass(document.body,this.colorSchemePrefix+("dark"===this.colorScheme?"light":"dark")),this.renderer.removeClass(document.documentElement,this.colorSchemePrefix+("dark"===this.colorScheme?"light":"dark")),this.renderer.addClass(document.body,this.colorSchemePrefix+c),this.renderer.addClass(document.documentElement,this.colorSchemePrefix+c)},_.prototype.currentActive=function(){return this.colorScheme},_.prototype.openExternalURL=function(c){return window.open(c,"_blank")},_.\u0275fac=function(E){return new(E||_)(S.\u0275\u0275inject(T.H7),S.\u0275\u0275inject(S.RendererFactory2))},_.\u0275prov=S.\u0275\u0275defineInjectable({token:_,factory:_.\u0275fac,providedIn:"root"}),_}()},62114:function(V,U,e){"use strict";e.d(U,{K:function(){return u}});var t=e(64762),f=e(50632),D=e(94902),S=e(12296),T=e(39760),u=function(){function _(c,E){this.userState=c,this.server=E,this.log=new D.Log(_.name)}return _.prototype.resetPassword=function(c){return this.server.resetUserPassword(c)},_.prototype.logout=function(){return(0,t.__awaiter)(this,void 0,void 0,function(){var c;return(0,t.__generator)(this,function(E){switch(E.label){case 0:this.log.log("logout"),E.label=1;case 1:return E.trys.push([1,3,,4]),this.userState.update({userProfile:null,loggedIn:!1,isLoggedInPending:!1,emailVerified:!1,mfaEnabled:!1,is2faVerified:!1,kyc_lvl1:!1,kyc_lvl2:!1}),[4,this.server.logout()];case 2:return E.sent(),localStorage.clear(),sessionStorage.clear(),localStorage.setItem("dao_app_loaded","true"),[3,4];case 3:return(!(c=E.sent()).code||209!==c.code)&&this.log.warn("Error logging out from server",c),[3,4];case 4:return[2]}})})},_.\u0275fac=function(E){return new(E||_)(S.\u0275\u0275inject(T.s),S.\u0275\u0275inject(f.s))},_.\u0275prov=S.\u0275\u0275defineInjectable({token:_,factory:_.\u0275fac,providedIn:"root"}),_}()},88815:function(V,U,e){"use strict";e.d(U,{C:function(){return D}});var t=e(64762),f=e(12296),D=function(){function M(){}return M.prototype.setModal=function(S){this.web3Modal=S},M.prototype.wc=function(){return(0,t.__awaiter)(this,void 0,void 0,function(){return(0,t.__generator)(this,function(S){return console.log("wc connection triggered--------"),[2]})})},M.\u0275prov=f.\u0275\u0275defineInjectable({token:M,factory:M.\u0275fac=function(T){return new(T||M)},providedIn:"root"}),M}()},30264:function(V,U,e){"use strict";e.d(U,{G:function(){return S}});var t=e(64762),f=e(72140),D=e(12296),S=function(T){function u(){return T.call(this,{wallet:null,signer:null,chainId:null,chainName:null,provider:null,balance:null,loading:null})||this}return(0,t.__extends)(u,T),u.\u0275fac=function(c){return new(c||u)},u.\u0275prov=D.\u0275\u0275defineInjectable({token:u,factory:u.\u0275fac,providedIn:"root"}),u=(0,t.__decorate)([(0,f.yC)({name:"toll",resettable:!0}),(0,t.__metadata)("design:paramtypes",[])],u)}(f.yh)},68671:function(V,U,e){"use strict";e.d(U,{o:function(){return O}});var t=e(64762),f=e(51665),D=e(19601),M=e(17727),S=e(76176),T=e(55959),u=e(7891),_=e(78194),E=e(12296),K=e(88815),O=function(){function A(v,g,B,j){this.envConfig=v,this.crypto=g,this.web3ModalService=B,this.walletConnect=j,this.accountStatusSource=new T.xQ,this.chainChanged$=new T.xQ,this.accountStatus$=this.accountStatusSource.asObservable(),this.config=this.envConfig.getConfig(),this.configChainId=this.config.chainConfig[this.config.network][0].chainId,this.chainConfig=this.config.chainConfig[this.config.network],this.allowedChainIds=this.config.allowedChainIds[this.config.network],this.connect()}return A.prototype.setSelectedProvider=function(v){v.wc?localStorage.setItem("provider_type","wallet_connect"):v.isMetaMask&&localStorage.setItem("provider_type","metamask")},A.prototype.wc=function(){return(0,t.__awaiter)(this,void 0,void 0,function(){return(0,t.__generator)(this,function(v){return this.walletConnect.wc(),[2]})})},A.prototype.isAllowedChain=function(){return(0,t.__awaiter)(this,void 0,void 0,function(){var v;return(0,t.__generator)(this,function(g){switch(g.label){case 0:return"eth"!==this.config.network?[3,1]:[2,!0];case 1:return[4,this.provider.getNetwork()];case 2:return v=g.sent().chainId,[2,this.allowedChainIds.indexOf(v)>-1]}})})},A.prototype.connect=function(){return(0,t.__awaiter)(this,void 0,void 0,function(){var v,g,B,j,R,N,J,L,ee=this;return(0,t.__generator)(this,function(z){switch(z.label){case 0:return[4,this.web3ModalService.open()];case 1:return v=z.sent(),console.log(v),g=!0,v.on("chainChanged",function(Q){return(0,t.__awaiter)(ee,void 0,void 0,function(){var b,s,d,h,p,l,r;return(0,t.__generator)(this,function(n){switch(n.label){case 0:return b=localStorage.getItem("chainId"),console.log("---chain change triggered---",Q),this.chainChanged$.next(Q),"eth"!==this.config.network&&-1===this.allowedChainIds.indexOf(Q)?g?(g=!1,-1!==this.allowedChainIds.indexOf(Q)?[3,2]:(s=window.ethereum,(d=_.find(this.chainConfig,{chainId:this.oldChainId}))?[4,s.request({method:"wallet_addEthereumChain",params:[d.config]}).catch()]:[3,2])):[3,2]:[3,3];case 1:(h=n.sent())&&console.log("transaction",h),n.label=2;case 2:return[3,5];case 3:return[4,this.provider.getNetwork()];case 4:for(l in p=n.sent().name,console.log("YYYYYYYYY "+p),console.log(this.config.chainConfig),this.config.chainConfig)this.config.chainConfig[l]&&(r=this.config.chainConfig[l].filter(function(i){return i.chainId===Q.toString()})).length>0&&(p=r[0].config.chainName);this.crypto.setChainId(Q.toString()),this.crypto.setChainName(p),localStorage.setItem("chainId",""+Q.toString()),localStorage.setItem("chainName",p),this.processProvider(this.provider),n.label=5;case 5:return String(Q)!==String(b)&&window.location.reload(),[2]}})})}),v.on("accountsChanged",function(Q){console.log("from provider accounts changed----------",Q),ee.accountStatusSource.next(Q),ee.accounts=Q,ee.crypto.setAccount(Q)}),this.provider=new S.Q(v),this.signer=this.provider.getSigner(),console.log(this.provider,this.signer),this.crypto.setSigner(this.signer),this.crypto.setProvider(this.provider),[4,this.provider.getNetwork()];case 2:return B=z.sent().chainId,j=this.allowedChainIds.indexOf(B)>-1,"eth"===this.config.network||j?[3,5]:(this.crypto.switchWalletToast(),R=window.ethereum,N=_.find(this.chainConfig,{chainId:this.allowedChainIds[0]}),console.log("rpcold",N),N?[4,R.request({method:"wallet_addEthereumChain",params:[N.config]}).catch()]:[3,4]);case 3:(J=z.sent())&&console.log("transaction",J),z.label=4;case 4:return this.disconnect(),[2,null];case 5:return this.oldChainId=B,L=this,[4,this.signer.getAddress()];case 6:return L.accounts=[z.sent()],this.accountStatusSource.next(this.accounts),this.processProvider(this.provider),[2,this.provider]}})})},A.prototype.toggleModal=function(){this.web3ModalService.open()},A.prototype.processProvider=function(v){return(0,t.__awaiter)(this,void 0,void 0,function(){var g,B,j,R,N,J,L,ee,z;return(0,t.__generator)(this,function(Q){switch(Q.label){case 0:return this.activeWallet=this.accounts[0],[4,this.provider.getNetwork()];case 1:for(R in g=Q.sent(),B=g.name,j=g.chainId,console.log(this.config.chainConfig),this.config.chainConfig)this.config.chainConfig[R]&&(N=this.config.chainConfig[R].filter(function(b){return b.chainId===j})).length>0&&(B=N[0].config.chainName);return z={wallet:this.accounts[0],signer:this.signer},ee=(L=M).formatUnits,[4,this.provider.getBalance(this.accounts[0])];case 2:return z.balance=ee.apply(L,[Q.sent()]),z.chainId=j,z.chainName=B,z.provider=v,z.loggedIn=!0,J=z,this.crypto.setAccount(this.accounts),this.crypto.setChainId(j),console.log("chainId",j),this.chainChanged$.next(j),this.crypto.setChainName(B),this.crypto.activeWalletToast(this.activeWallet,J.chainName),this.crypto.processAccountData(J),[2]}})})},A.prototype.disconnect=function(){var v;return(0,t.__awaiter)(this,void 0,void 0,function(){return(0,t.__generator)(this,function(g){switch(g.label){case 0:return console.log("Killing the wallet connection",this.provider),this.crypto.resetApp(),(null===(v=this.provider)||void 0===v?void 0:v.close)?[4,this.provider.close()]:[3,2];case 1:g.sent(),g.label=2;case 2:return[4,this.web3ModalService.clearCachedProvider()];case 3:return g.sent(),localStorage.removeItem("provider_type"),localStorage.removeItem("chainId"),localStorage.removeItem("chainName"),this.provider=null,this.crypto.setProvider(void 0),window.location.reload(),[2]}})})},A.\u0275fac=function(g){return new(g||A)(E.\u0275\u0275inject(f.E),E.\u0275\u0275inject(D.$),E.\u0275\u0275inject(u.y),E.\u0275\u0275inject(K.C))},A.\u0275prov=E.\u0275\u0275defineInjectable({token:A,factory:A.\u0275fac,providedIn:"root"}),A}()},529:function(V,U,e){"use strict";e.d(U,{N:function(){return t}});var t={production:!0,appId:"com.daomaker.daopad",appName:"Dao Pad",projectTitle:"Dao Pad by DAO Maker",projectDescription:"DAO Maker creates growth technologies and funding frameworks for startups, while simultaneously reducing risks for investors",projectImageUrl:"https://storage.googleapis.com/public-daomaker/assets/img5.png",companyName:"DAO Maker",project_ticker:"DAO",currency_ticker:"BUSD",token_standard:"ERC-20",currency_digits:6,power:"DAO Power",mail:"@daomaker.com",apiVersion:"1",parseAppId:"48658923793695433323",parseMount:"/api/v1/",environment:"prod",network:"eth",networkFull:"ethereum",allowedChainIds:{bsc:[56,97],eth:[42,1,3,4,5]},chainConfig:{bsc:[{chainId:56,config:{chainId:"0x38",chainName:"Binance Smart Chain",nativeCurrency:{name:"BNB",symbol:"BNB",decimals:18},rpcUrls:["https://bsc-dataseed.binance.org/"],blockExplorerUrls:["https://bscscan.com/"]}}],eth:[{chainId:1,config:{chainId:"0x1",chainName:"Ethereum Mainnet",nativeCurrency:{name:"ETH",symbol:"ETH",decimals:18},rpcUrls:["https://mainnet.infura.io/v3/c546b5eaab8741948d0029debaacfe5e"],blockExplorerUrls:["https://etherscan.io"]}},{chainId:42,config:{chainId:"0x2A",chainName:"Kovan Test Network",nativeCurrency:{name:"ETH",symbol:"ETH",decimals:18},rpcUrls:["https://kovan.infura.io/v3/c546b5eaab8741948d0029debaacfe5e"],blockExplorerUrls:["https://kovan.etherscan.io"]}},{chainId:3,config:{chainId:"0x03",chainName:"Ropsten Test Network",nativeCurrency:{name:"ETH",symbol:"ETH",decimals:18},rpcUrls:["https://ropsten.infura.io/v3/c546b5eaab8741948d0029debaacfe5e"],blockExplorerUrls:["https://ropsten.etherscan.io"]}}]},serverUrl:"https://daomaker.com",gcpApiKey:"AIzaSyClRcobLQWs7VprOqixzL_HNajzP4fuV-A",referralShareWebsite:"https://daomaker.com",playStoreUrl:"",itunesUrl:"",facebookAppId:"",facebookAppName:"",linkedInId:"",linkedInSecret:"",socialShareMessage:"",gaeVersionHeaders:{"X-DAOMAKER":"development","X-HACKERS":"contact hello@daomaker.com",GOOGAPPUID:"1"},termsAndConditions:"https://daomaker.com/terms-and-conditions/",privacyPolicy:"https://daomaker.com/privacy-policy",walletDerivationPath:"m/44'/60'/0'/0/0",etherscanApiKey:"6HW4BA2JHEQYGH66RNY8FZUEMDJDSKRFB1",ethplorerApiKey:"EK-oeY1L-DtTMUhb-h15GC",personaTemplateKey:"tmpl_HM3qHQNxcwJDMdZxhSqTrzQE",personaConfig:"production",infura_api:"c546b5eaab8741948d0029debaacfe5e",googleCaptchaPublicKey:"6Lf4Q44aAAAAAKhgA0h6zxevlh96RcPm-aMTOxYf",oAuth:{facebook:{appId:"344438859915799",authorizationBaseUrl:"https://www.facebook.com/v2.11/dialog/oauth",resourceUrl:"https://graph.facebook.com/v2.11/me?locale=en_US&fields=name,email,picture.width(600).height(600)",web:{responseType:"token",redirectUrl:"http://localhost:8100",windowOptions:"location=yes,height=570,width=520,scrollbars=yes,status=yes"},android:{customHandlerClass:"com.daomaker.dyco-platform.FacebookOAuth2CustomHandler"},ios:{customHandlerClass:"ReptilehausPlugin.FacebookAuthHandler"}},twitter:{twitterConsumerKey:"d7DxjIbWwksvoJuuMD7yNLUAu",twitterConsumerSecret:"aa2yvAOddWDG4pxDO7VoiDqmuvS6Z08FNxeVOoduslp3EcsvNM"},google:{authorizationBaseUrl:"https://accounts.google.com/o/oauth2/auth",accessTokenEndpoint:"https://www.googleapis.com/oauth2/v4/token",scope:"email profile",resourceUrl:"https://www.googleapis.com/userinfo/v2/me",web:{appId:"619719019389-30j8cfi69hevb6bp2728n17au3fiefbi.apps.googleusercontent.com",responseType:"token",scope:"email profile",accessTokenEndpoint:"",redirectUrl:"https://daomaker.com",windowOptions:"location=yes,height=570,width=520,scrollbars=yes,status=yes"},android:{appId:"xxxxxxxx",responseType:"code",redirectUrl:"com.daomaker.dyco-platform:/"},ios:{appId:"xxxxxxxxxx",responseType:"code",redirectUrl:"com.daomaker.dyco-platform:/"}}},twitterServerEndpoint:"https://daomaker.com/twitter",twitterCallbackURL:"https://daomaker.com/twitter/callback",twitterCallbackDomain:"https://daomaker.com",dycoFactoryContract:"0xeBFD59e2592f94113d797fA22860aCC77910D937",shoControllerContract:"0x380c2c68eBCB38473E91b32e19ffb5519d7822B7",shoProxyContract:"0x380c2c68eBCB38473E91b32e19ffb5519d7822B7",walletsContract:"0x41B856701BB8c24CEcE2Af10651BfAfEbb57cf49",ipadToken:{kovan:"0xe98febab22117d7d8e6881fabd827d5b240b92b7",homestead:"0x36ed7baad9a571b5dad55d096c0ed902188d6d3c"},ipadDepositWallet:{kovan:"0x51b17c79D0D00b6F8B19a69aEaf1381C6eb3633B",homestead:"0x47617f799D7E23D2B6c9F77bf2b58D14Cf669f42"},walletConnectOptions:{walletconnect:{options:{infuraId:"sbobOyBe5DahIReB9PB2"}},fortmatic:{options:{key:"pk_test_391E26A3B43A3350"}}},shoToken:"0xe9e7cea3dedca5984780bafc599bd69add087d56",shoContract:"0xd7392A6d4053d9A780D95b47591d5cef98B9e7d0",shoTokenSymbol:"BUSD",uniswapRouterAddress:"0x7a250d5630B4cF539739dF2C5dAcb4c659F2488D",buyNLockAddress:"0x9B8CC92cee71E789e6A69e5996cEe43FA3bf13AE",buyNLockToken:"0x0f51bb10119727a7e5ea3538074fb341f56b09ad",wethAddress:"0xc02aaa39b223fe8d0a0e5c4f27ead9083c756cc2",usdcContract:"0xa0b86991c6218b36c1d19d4a2e9eb0ce3606eb48",currency_ticker_url:"https://storage.googleapis.com/public-dao-pad-dev/assets/img/usd-coin-usdc-logo.svg",chainNetwork:"homestead",chainNetworkID:1,googleAnalytics:"UA-194263567-1",disposalEmailCheckUrl:"https://disposable.debounce.io",deposit_max_amount:1e3,deposit_min_amount:500,theme:"eth",theme_color:"#48D5FF",theme_color_2:"#4086FF",hj:"",upgradePath:"https://app.uniswap.org/#/swap?inputCurrency=0x0f51bb10119727a7e5ea3538074fb341f56b09ad",holding_days:5,lp_multiplier:"1,5"}},78513:function(V,U,e){"use strict";var t=e(99624),f=e(12296),D=e(64762),M=e(94902),S=e(25748),T=e(49217),u=e(50632),_=e(63511),c=e(529),E=e(92979),K=e(61116),O=e(49961),A=e(39760),v=function(){function a(x,P,W){if(this.platformId=x,this.renderer=P,this.el=W,this.trackingCode=c.N.googleAnalytics,(0,K.NF)(this.platformId)){var G=this.renderer.createElement("script");G.src="//www.googletagmanager.com/gtag/js?id="+this.trackingCode,G.async=!0,this.renderer.appendChild(this.el.nativeElement,G);var Y=this.renderer.createElement("script"),Z=this.renderer.createText("\n        window.dataLayer = window.dataLayer || [];\n        function gtag() {\n          dataLayer.push(arguments);\n        }\n        gtag('js', new Date());\n\n        gtag('config', '"+this.trackingCode+"');\n      ");this.renderer.appendChild(Y,Z),this.renderer.appendChild(this.el.nativeElement,Y)}}return a.\u0275fac=function(P){return new(P||a)(f.\u0275\u0275directiveInject(f.PLATFORM_ID),f.\u0275\u0275directiveInject(f.Renderer2),f.\u0275\u0275directiveInject(f.ElementRef))},a.\u0275cmp=f.\u0275\u0275defineComponent({type:a,selectors:[["app-google-analytics-gtag"]],decls:0,vars:0,template:function(P,W){},encapsulation:2}),a}(),g=e(26959),B=function(){function a(x,P,W,G,Y,Z,te,oe,re){this.loginSequence=x,this.companySrv=P,this.ui=W,this._api=G,this.location=Y,this.myInvestments=Z,this.userQuery=te,this.userState=oe,this.titleService=re,this.log=new M.Log(a.name),this.loggedIn=!1,this.titleService.setTitle(c.N.projectTitle)}return a.prototype.ngOnInit=function(){return(0,D.__awaiter)(this,void 0,void 0,function(){return(0,D.__generator)(this,function(x){return localStorage.removeItem("dao_app_loaded"),this.initializeApp(),[2]})})},a.prototype.initializeApp=function(){return(0,D.__awaiter)(this,void 0,void 0,function(){return(0,D.__generator)(this,function(x){switch(x.label){case 0:return this.ui.loadAppLanguage(),this.ui.loadTheme(),[4,this._api.loadProfile()];case 1:return x.sent(),this.loginSequence.next(null),[2]}})})},a.\u0275fac=function(P){return new(P||a)(f.\u0275\u0275directiveInject(E.l),f.\u0275\u0275directiveInject(T.J),f.\u0275\u0275directiveInject(S.F),f.\u0275\u0275directiveInject(u.s),f.\u0275\u0275directiveInject(K.Ye),f.\u0275\u0275directiveInject(_.n),f.\u0275\u0275directiveInject(O.w),f.\u0275\u0275directiveInject(A.s),f.\u0275\u0275directiveInject(t.Dx))},a.\u0275cmp=f.\u0275\u0275defineComponent({type:a,selectors:[["app-root"]],decls:2,vars:0,template:function(P,W){1&P&&(f.\u0275\u0275element(0,"app-google-analytics-gtag"),f.\u0275\u0275element(1,"router-outlet"))},directives:[v,g.lC],encapsulation:2}),a}(),j=e(42693),R=e(62114),N=function(){function a(x,P,W,G,Y,Z,te,oe){var re=this;this.router=x,this.userService=P,this.server=W,this.ui=G,this.location=Y,this.loginSequence=Z,this.userState=te,this.userQuery=oe,this.log=new M.Log(a.name),this.unauthRoutes=["/login","/register","/reset-password"],this.verifiyAuthRoutes=["/reg-verify-email","/mfa-auth"],this.mfaRoutes=["/mfa-auth"],this.kycRequiredRoutes=["investment","sho"],this.profileRoutes=["/profile-mfa","/profile-overview","/profile-edit","profile-kyc"],this.pageIndex={SplashPage:"/register",BasicInfo:"/reg-basic-info",SocialMissingInfo:"/identity-verification",GeoAllow:"/reg-allow-location",NotifyAllow:"/reg-allow-notification",VerifyEmail:"/reg-verify-email",Offline:"/loading"},this.page=null,this.loginSequence.$next.subscribe(function(ae){return re.next()},function(ae){return re.log.log("loginSequence onError "+ae)},function(){return re.log.log("loginSequence onCompleted")})}return a.prototype.next=function(){return(0,D.__awaiter)(this,void 0,void 0,function(){return(0,D.__generator)(this,function(x){try{this.routing(this.router.url)}catch(P){this.log.error("Error on login listender "+P),"ParseError: 209 Invalid session token"===P&&this.userService.logout()}return[2]})})},a.prototype.routing=function(x){var P=this;this.userQuery.select().subscribe(function(W){return localStorage.getItem("dao_app_loaded"),W.isLoggedInPending&&P.unauthRoutes.includes(x)?P.router.navigate(["/reg-verify-email"]):W.userProfile&&W.userProfile.mfa_enabled&&!W.isLoggedInPending&&!W.is2faVerified?P.router.navigateByUrl("/mfa-auth"):W.loggedIn&&W.userProfile&&W.userProfile.kyc_lvl1&&P.unauthRoutes.includes(x)?P.router.navigateByUrl("/"):W.userProfile&&W.userProfile.kyc_lvl1&&P.profileRoutes.includes(x)?P.router.navigateByUrl(x):W.userProfile&&!W.userProfile.kyc_lvl2&&P.kycRequiredRoutes.includes(x.split("/")[1])?P.router.navigateByUrl("/profile-kyc"):P.router.navigateByUrl(x)})},a.\u0275fac=function(P){return new(P||a)(f.\u0275\u0275inject(g.F0),f.\u0275\u0275inject(R.K),f.\u0275\u0275inject(u.s),f.\u0275\u0275inject(S.F),f.\u0275\u0275inject(K.Ye),f.\u0275\u0275inject(E.l),f.\u0275\u0275inject(A.s),f.\u0275\u0275inject(O.w))},a.\u0275prov=f.\u0275\u0275defineInjectable({token:a,factory:a.\u0275fac,providedIn:"root"}),a}(),J=function(){function a(x,P,W,G,Y){this._router=x,this._api=P,this.userService=W,this._routingService=G,this.userQuery=Y}return a.prototype.canActivate=function(x,P){var W=this,G=this._routingService.unauthRoutes,Y=this._routingService.profileRoutes,Z=localStorage.getItem("dao_app_loaded");return this.userQuery.select().subscribe(function(te){return!(!Z||(te.isLoggedInPending&&!G.includes(P.url)?(W._router.navigate(["/reg-verify-email"]),1):!te.userProfile||!te.userProfile.mfa_enabled||te.isLoggedInPending||te.is2faVerified||G.includes(P.url)?te.loggedIn&&te.userProfile&&Y.includes(W._router.url)&&W._router.url===P.url?(W._router.navigateByUrl(P.url),0):!te.loggedIn&&(W._router.navigate(["/"]),1):(W._router.navigateByUrl("/mfa-auth"),1)))}),!0},a.\u0275fac=function(P){return new(P||a)(f.\u0275\u0275inject(g.F0),f.\u0275\u0275inject(u.s),f.\u0275\u0275inject(R.K),f.\u0275\u0275inject(N),f.\u0275\u0275inject(O.w))},a.\u0275prov=f.\u0275\u0275defineInjectable({token:a,factory:a.\u0275fac,providedIn:"root"}),a}(),L=e(79996),ee=function(){function a(x,P,W,G,Y){this._router=x,this._api=P,this.userService=W,this._routingService=G,this.userQuery=Y}return a.prototype.canActivate=function(x,P){var W=this,G=this._routingService.unauthRoutes;return this.userQuery.isLoggedIn$.pipe((0,L.U)(function(Y){return console.log("Logged in is "+Y+" and route is "+P.url),!(Y||!G.includes(P.url))||(W._router.navigateByUrl("/"),!1)}))},a.\u0275fac=function(P){return new(P||a)(f.\u0275\u0275inject(g.F0),f.\u0275\u0275inject(u.s),f.\u0275\u0275inject(R.K),f.\u0275\u0275inject(N),f.\u0275\u0275inject(O.w))},a.\u0275prov=f.\u0275\u0275defineInjectable({token:a,factory:a.\u0275fac,providedIn:"root"}),a}(),z=function(){function a(x,P,W,G,Y){this._router=x,this._api=P,this.userService=W,this._routingService=G,this.userQuery=Y}return a.prototype.canActivate=function(x,P){return this.userQuery.isLoggedInPending$.pipe((0,L.U)(function(G){return console.log("Logged in is "+G+" and route is "+P.url),!!G}))},a.\u0275fac=function(P){return new(P||a)(f.\u0275\u0275inject(g.F0),f.\u0275\u0275inject(u.s),f.\u0275\u0275inject(R.K),f.\u0275\u0275inject(N),f.\u0275\u0275inject(O.w))},a.\u0275prov=f.\u0275\u0275defineInjectable({token:a,factory:a.\u0275fac,providedIn:"root"}),a}(),Q=function(){function a(x,P,W,G,Y){this._router=x,this._api=P,this.userService=W,this._routingService=G,this.userQuery=Y}return a.prototype.canActivate=function(x,P){var W=this,G=this._routingService.unauthRoutes;return!!localStorage.getItem("dao_app_loaded")&&(this.userQuery.select().subscribe(function(Y){return!(!Y.loggedIn||!Y.userProfile||Y.userProfile.kyc_lvl1||G.includes(P.url))||(Y.loggedIn&&Y.userProfile&&Y.userProfile.kyc_lvl1&&!G.includes(P.url)?(W._router.navigateByUrl(""),!1):void 0)}),!0)},a.\u0275fac=function(P){return new(P||a)(f.\u0275\u0275inject(g.F0),f.\u0275\u0275inject(u.s),f.\u0275\u0275inject(R.K),f.\u0275\u0275inject(N),f.\u0275\u0275inject(O.w))},a.\u0275prov=f.\u0275\u0275defineInjectable({token:a,factory:a.\u0275fac,providedIn:"root"}),a}(),b=function(){function a(x,P,W,G,Y){this._router=x,this._api=P,this.userService=W,this._routingService=G,this.userQuery=Y}return a.prototype.canActivate=function(x,P){var W=this,G=this._routingService.unauthRoutes,Y=localStorage.getItem("dao_app_loaded");return this.userQuery.select().subscribe(function(Z){return!(!Y||(Z.isLoggedInPending&&!G.includes(P.url)?(W._router.navigate(["/reg-verify-email"]),1):!Z.userProfile||!Z.userProfile.mfa_enabled||Z.isLoggedInPending||Z.is2faVerified||G.includes(P.url)?Z.loggedIn&&Z.userProfile&&!Z.userProfile.kyc_lvl2?("/portfolio"!==P.url&&W._router.navigateByUrl("/profile-kyc"),1):(!Z.loggedIn||!Z.userProfile)&&(W._router.navigate(["/"]),1):(W._router.navigateByUrl("/mfa-auth"),1)))}),!0},a.\u0275fac=function(P){return new(P||a)(f.\u0275\u0275inject(g.F0),f.\u0275\u0275inject(u.s),f.\u0275\u0275inject(R.K),f.\u0275\u0275inject(N),f.\u0275\u0275inject(O.w))},a.\u0275prov=f.\u0275\u0275defineInjectable({token:a,factory:a.\u0275fac,providedIn:"root"}),a}(),o=e(31305),s=e(78616),h=[{path:"company-sale-rounds/:slug",loadChildren:function(){return Promise.all([e.e("default-src_app_components_header-nav-bar_header-nav-bar_component_ts-src_app_components_head-bb489d"),e.e("default-src_app_components_footer_footer_component_ts-src_app_components_footer_footer_module_ts"),e.e("default-src_app_services_sho-service_sho_service_ts"),e.e("default-src_app_components_breadcrumb_breadcrumb_component_ts-src_app_components_breadcrumb_b-d806d3"),e.e("src_app_pages_company-sale-rounds_company-sale-rounds_module_ts")]).then(e.bind(e,31258)).then(function(a){return a.CompanySaleRoundsPageModule})}},{path:"login",canActivate:[ee],loadChildren:function(){return Promise.all([e.e("default-src_app_components_header-nav-bar_header-nav-bar_component_ts-src_app_components_head-bb489d"),e.e("default-node_modules_ng-recaptcha___ivy_ngcc___fesm2015_ng-recaptcha_js"),e.e("default-src_app_components_social-login_social-login_component_ts-src_app_components_social-l-784f90"),e.e("src_app_pages_login_login_module_ts")]).then(e.bind(e,47838)).then(function(a){return a.LoginModule})}},{path:"register",canActivate:[ee],loadChildren:function(){return Promise.all([e.e("default-src_app_components_header-nav-bar_header-nav-bar_component_ts-src_app_components_head-bb489d"),e.e("default-node_modules_ng-recaptcha___ivy_ngcc___fesm2015_ng-recaptcha_js"),e.e("default-src_app_components_social-login_social-login_component_ts-src_app_components_social-l-784f90"),e.e("src_app_pages_register_register_module_ts")]).then(e.bind(e,33183)).then(function(a){return a.RegisterPageModule})}},{path:"reset-password",canActivate:[ee],loadChildren:function(){return Promise.all([e.e("default-src_app_components_header-nav-bar_header-nav-bar_component_ts-src_app_components_head-bb489d"),e.e("default-src_app_components_footer_footer_component_ts-src_app_components_footer_footer_module_ts"),e.e("default-node_modules_ng-recaptcha___ivy_ngcc___fesm2015_ng-recaptcha_js"),e.e("src_app_pages_reset-password_reset-password_module_ts")]).then(e.bind(e,46022)).then(function(a){return a.ResetPasswordPageModule})}},{path:"reg-verify-email",canActivate:[z],loadChildren:function(){return Promise.all([e.e("default-src_app_components_header-nav-bar_header-nav-bar_component_ts-src_app_components_head-bb489d"),e.e("src_app_pages_reg-verify-email_reg-verify-email_module_ts")]).then(e.bind(e,74651)).then(function(a){return a.RegVerifyEmailPageModule})}},{path:"profile-overview",canActivate:[J],loadChildren:function(){return Promise.all([e.e("default-src_app_components_header-nav-bar_header-nav-bar_component_ts-src_app_components_head-bb489d"),e.e("default-src_app_components_footer_footer_component_ts-src_app_components_footer_footer_module_ts"),e.e("common"),e.e("src_app_pages_profile-overview_profile-overview_module_ts")]).then(e.bind(e,40592)).then(function(a){return a.ProfileOverviewPageModule})}},{path:"profile-password",canActivate:[J],loadChildren:function(){return Promise.all([e.e("default-src_app_components_header-nav-bar_header-nav-bar_component_ts-src_app_components_head-bb489d"),e.e("default-src_app_components_footer_footer_component_ts-src_app_components_footer_footer_module_ts"),e.e("common"),e.e("src_app_pages_profile-password_profile-password_module_ts")]).then(e.bind(e,29797)).then(function(a){return a.ProfilePasswordPageModule})}},{path:"profile-kyc",canActivate:[J],loadChildren:function(){return Promise.all([e.e("default-src_app_components_header-nav-bar_header-nav-bar_component_ts-src_app_components_head-bb489d"),e.e("default-src_app_components_footer_footer_component_ts-src_app_components_footer_footer_module_ts"),e.e("common"),e.e("src_app_pages_profile-kyc_profile-kyc_module_ts")]).then(e.bind(e,175)).then(function(a){return a.ProfileKycPageModule})}},{path:"profile-mfa",canActivate:[J],loadChildren:function(){return Promise.all([e.e("default-src_app_components_header-nav-bar_header-nav-bar_component_ts-src_app_components_head-bb489d"),e.e("default-src_app_components_footer_footer_component_ts-src_app_components_footer_footer_module_ts"),e.e("common"),e.e("src_app_pages_profile-mfa_profile-mfa_module_ts")]).then(e.bind(e,29226)).then(function(a){return a.ProfileMfaPageModule})}},{path:"profile-edit",canActivate:[J],loadChildren:function(){return Promise.all([e.e("default-src_app_components_header-nav-bar_header-nav-bar_component_ts-src_app_components_head-bb489d"),e.e("default-src_app_components_footer_footer_component_ts-src_app_components_footer_footer_module_ts"),e.e("default-src_app_countries_json_ts"),e.e("common"),e.e("src_app_pages_profile-edit_profile-edit_module_ts")]).then(e.bind(e,69321)).then(function(a){return a.ProfileEditPageModule})}},{path:"mfa-auth",loadChildren:function(){return Promise.all([e.e("default-src_app_components_header-nav-bar_header-nav-bar_component_ts-src_app_components_head-bb489d"),e.e("default-src_app_components_footer_footer_component_ts-src_app_components_footer_footer_module_ts"),e.e("common"),e.e("src_app_pages_mfa-auth_mfa-auth_module_ts")]).then(e.bind(e,54142)).then(function(a){return a.MfaAuthPageModule})}},{path:"company",loadChildren:function(){return Promise.all([e.e("default-src_app_components_header-nav-bar_header-nav-bar_component_ts-src_app_components_head-bb489d"),e.e("default-src_app_components_footer_footer_component_ts-src_app_components_footer_footer_module_ts"),e.e("default-src_app_services_vault-service-v2_vault-service-v2_service_ts"),e.e("default-src_app_components_breadcrumb_breadcrumb_component_ts-src_app_components_breadcrumb_b-675797"),e.e("src_app_pages_company_company_module_ts")]).then(e.bind(e,43066)).then(function(a){return a.CompanyPageModule})}},{path:"company/:slug",loadChildren:function(){return Promise.all([e.e("default-src_app_components_header-nav-bar_header-nav-bar_component_ts-src_app_components_head-bb489d"),e.e("default-src_app_components_footer_footer_component_ts-src_app_components_footer_footer_module_ts"),e.e("default-src_app_services_vault-service-v2_vault-service-v2_service_ts"),e.e("default-src_app_components_breadcrumb_breadcrumb_component_ts-src_app_components_breadcrumb_b-675797"),e.e("src_app_pages_company_company_module_ts")]).then(e.bind(e,43066)).then(function(a){return a.CompanyPageModule})}},{path:"company/:slug/dao-data",loadChildren:function(){return Promise.all([e.e("default-src_app_components_header-nav-bar_header-nav-bar_component_ts-src_app_components_head-bb489d"),e.e("default-src_app_components_footer_footer_component_ts-src_app_components_footer_footer_module_ts"),e.e("default-src_app_services_vault-service-v2_vault-service-v2_service_ts"),e.e("default-src_app_components_breadcrumb_breadcrumb_component_ts-src_app_components_breadcrumb_b-675797"),e.e("src_app_pages_company_company_module_ts")]).then(e.bind(e,43066)).then(function(a){return a.CompanyPageModule})}},{path:"company/:slug/stake/dao",loadChildren:function(){return Promise.all([e.e("default-src_app_components_header-nav-bar_header-nav-bar_component_ts-src_app_components_head-bb489d"),e.e("default-src_app_components_footer_footer_component_ts-src_app_components_footer_footer_module_ts"),e.e("default-src_app_services_vault-service-v2_vault-service-v2_service_ts"),e.e("default-src_app_components_breadcrumb_breadcrumb_component_ts-src_app_components_breadcrumb_b-675797"),e.e("src_app_pages_company_company_module_ts")]).then(e.bind(e,43066)).then(function(a){return a.CompanyPageModule})}},{path:"company/:slug/stake/:token",loadChildren:function(){return Promise.all([e.e("default-src_app_components_header-nav-bar_header-nav-bar_component_ts-src_app_components_head-bb489d"),e.e("default-src_app_components_footer_footer_component_ts-src_app_components_footer_footer_module_ts"),e.e("default-src_app_services_vault-service-v2_vault-service-v2_service_ts"),e.e("default-src_app_components_breadcrumb_breadcrumb_component_ts-src_app_components_breadcrumb_b-675797"),e.e("src_app_pages_company_company_module_ts")]).then(e.bind(e,43066)).then(function(a){return a.CompanyPageModule})}},{path:"company/:slug/bridge",loadChildren:function(){return Promise.all([e.e("default-src_app_components_header-nav-bar_header-nav-bar_component_ts-src_app_components_head-bb489d"),e.e("default-src_app_components_footer_footer_component_ts-src_app_components_footer_footer_module_ts"),e.e("default-src_app_services_vault-service-v2_vault-service-v2_service_ts"),e.e("default-src_app_components_breadcrumb_breadcrumb_component_ts-src_app_components_breadcrumb_b-675797"),e.e("src_app_pages_company_company_module_ts")]).then(e.bind(e,43066)).then(function(a){return a.CompanyPageModule})}},{path:"sho/:companyID/:offeringID",canActivate:[function(){function a(x,P){this.queryProfile=x,this.queryCrypto=P,this.metamaskConnected$=this.queryCrypto.metamaskConnected$,this.isLoggedIn$=this.queryProfile.isLoggedIn$,this.kyc_lvl2$=this.queryProfile.kyc_lvl2$}return a.prototype.canActivate=function(x,P){return(0,o.aj)([this.metamaskConnected$,this.isLoggedIn$,this.kyc_lvl2$]).pipe((0,L.U)(function(W,G){return!!(W[0]&&W[1]&&W[2])&&W[0]}))},a.\u0275fac=function(P){return new(P||a)(f.\u0275\u0275inject(O.w),f.\u0275\u0275inject(s.E))},a.\u0275prov=f.\u0275\u0275defineInjectable({token:a,factory:a.\u0275fac,providedIn:"root"}),a}()],loadChildren:function(){return Promise.all([e.e("default-src_app_components_header-nav-bar_header-nav-bar_component_ts-src_app_components_head-bb489d"),e.e("default-src_app_components_footer_footer_component_ts-src_app_components_footer_footer_module_ts"),e.e("default-src_app_services_sho-service_sho_service_ts"),e.e("src_app_pages_sho_sho_module_ts")]).then(e.bind(e,7605)).then(function(a){return a.ShoPageModule})}},{path:"profile-update",canActivate:[J,Q],loadChildren:function(){return Promise.all([e.e("default-src_app_components_header-nav-bar_header-nav-bar_component_ts-src_app_components_head-bb489d"),e.e("default-src_app_components_footer_footer_component_ts-src_app_components_footer_footer_module_ts"),e.e("default-src_app_countries_json_ts"),e.e("src_app_pages_profile-update_profile-update_module_ts")]).then(e.bind(e,74809)).then(function(a){return a.ProfileUpdatePageModule})}},{path:"portfolio",canActivate:[b],loadChildren:function(){return Promise.all([e.e("default-src_app_components_header-nav-bar_header-nav-bar_component_ts-src_app_components_head-bb489d"),e.e("default-src_app_components_footer_footer_component_ts-src_app_components_footer_footer_module_ts"),e.e("default-src_app_services_sho-service_sho_service_ts"),e.e("src_app_pages_portfolio_portfolio_module_ts")]).then(e.bind(e,37525)).then(function(a){return a.PortfolioPageModule})}},{path:"password-reset-success",loadChildren:function(){return Promise.all([e.e("default-src_app_components_header-nav-bar_header-nav-bar_component_ts-src_app_components_head-bb489d"),e.e("default-src_app_components_footer_footer_component_ts-src_app_components_footer_footer_module_ts"),e.e("src_app_pages_password-reset-success_password-reset-success_module_ts")]).then(e.bind(e,50534)).then(function(a){return a.PasswordResetSuccessModule})}},{path:"privacy-policy",loadChildren:function(){return Promise.all([e.e("default-src_app_components_header-nav-bar_header-nav-bar_component_ts-src_app_components_head-bb489d"),e.e("default-src_app_components_footer_footer_component_ts-src_app_components_footer_footer_module_ts"),e.e("src_app_pages_privacy-policy_privacy-policy_module_ts")]).then(e.bind(e,76262)).then(function(a){return a.PrivacyPolicyModule})}},{path:"terms-and-conditions",loadChildren:function(){return Promise.all([e.e("default-src_app_components_header-nav-bar_header-nav-bar_component_ts-src_app_components_head-bb489d"),e.e("default-src_app_components_footer_footer_component_ts-src_app_components_footer_footer_module_ts"),e.e("src_app_pages_terms_terms_module_ts")]).then(e.bind(e,73002)).then(function(a){return a.TermsModule})}},{path:"vault",loadChildren:function(){return Promise.all([e.e("default-src_app_components_header-nav-bar_header-nav-bar_component_ts-src_app_components_head-bb489d"),e.e("default-src_app_components_footer_footer_component_ts-src_app_components_footer_footer_module_ts"),e.e("default-src_app_services_vault-service-v2_vault-service-v2_service_ts"),e.e("default-src_app_components_breadcrumb_breadcrumb_component_ts-src_app_components_breadcrumb_b-675797"),e.e("src_app_pages_landing_landing_module_ts")]).then(e.bind(e,9615)).then(function(a){return a.LandingPageModule})}},{path:"vault/research",loadChildren:function(){return Promise.all([e.e("default-src_app_components_header-nav-bar_header-nav-bar_component_ts-src_app_components_head-bb489d"),e.e("default-src_app_components_footer_footer_component_ts-src_app_components_footer_footer_module_ts"),e.e("default-src_app_services_vault-service-v2_vault-service-v2_service_ts"),e.e("default-src_app_components_breadcrumb_breadcrumb_component_ts-src_app_components_breadcrumb_b-675797"),e.e("src_app_pages_landing_landing_module_ts")]).then(e.bind(e,9615)).then(function(a){return a.LandingPageModule})}},{path:"404",loadChildren:function(){return Promise.all([e.e("default-src_app_components_header-nav-bar_header-nav-bar_component_ts-src_app_components_head-bb489d"),e.e("default-src_app_components_footer_footer_component_ts-src_app_components_footer_footer_module_ts"),e.e("src_app_pages_not-found_not-found_module_ts")]).then(e.bind(e,38392)).then(function(a){return a.NotFoundModule})}},{path:"offering/:participation_id",canActivate:[b],loadChildren:function(){return Promise.all([e.e("default-src_app_components_header-nav-bar_header-nav-bar_component_ts-src_app_components_head-bb489d"),e.e("default-src_app_components_footer_footer_component_ts-src_app_components_footer_footer_module_ts"),e.e("default-src_app_services_sho-service_sho_service_ts"),e.e("default-src_app_components_breadcrumb_breadcrumb_component_ts-src_app_components_breadcrumb_b-d806d3"),e.e("src_app_pages_offering-single_offering-single_module_ts")]).then(e.bind(e,51859)).then(function(a){return a.OfferingSingleModule})}},{path:"",loadChildren:function(){return Promise.all([e.e("default-src_app_components_header-nav-bar_header-nav-bar_component_ts-src_app_components_head-bb489d"),e.e("default-src_app_components_footer_footer_component_ts-src_app_components_footer_footer_module_ts"),e.e("default-src_app_services_sho-service_sho_service_ts"),e.e("default-src_app_services_vault-service-v2_vault-service-v2_service_ts"),e.e("src_app_pages_home_home_module_ts")]).then(e.bind(e,70786)).then(function(a){return a.HomePageModule})}},{path:"",redirectTo:"/",pathMatch:"full"},{path:"**",redirectTo:"404"}],p=function(){function a(){}return a.\u0275fac=function(P){return new(P||a)},a.\u0275mod=f.\u0275\u0275defineNgModule({type:a}),a.\u0275inj=f.\u0275\u0275defineInjector({imports:[[g.Bz.forRoot(h,{scrollPositionRestoration:"enabled",scrollOffset:[0,0],anchorScrolling:"enabled",relativeLinkResolution:"legacy",initialNavigation:"enabledNonBlocking"})],g.Bz]}),a}(),l=e(51665);function r(a){return function(){return a.load()}}var n=function(){function a(){}return a.\u0275fac=function(P){return new(P||a)},a.\u0275mod=f.\u0275\u0275defineNgModule({type:a}),a.\u0275inj=f.\u0275\u0275defineInjector({providers:[l.E,{provide:f.APP_INITIALIZER,useFactory:r,deps:[l.E],multi:!0}],imports:[[t.b2]]}),a}(),i=e(96406),m=e(94187),y=e(99161),C=e(68671),w=e(64178),I=e(85317),F=e(3492),H=e(26136),k=e(12336),$=e(40878),X=e(44019),q=function(){function a(x,P){this.transferState=x,this.platformId=P}return a.prototype.intercept=function(x,P){var W=this;if("GET"!==x.method)return P.handle(x);var G=(0,t.Cb)(x.url);if((0,K.PM)(this.platformId))return P.handle(x).pipe((0,X.b)(function(te){W.transferState.set(G,te.body)}));var Y=this.transferState.get(G,null);if(Y){var Z=new j.Zn({body:Y,status:200});return this.transferState.remove(G),(0,$.of)(Z)}return P.handle(x)},a.\u0275fac=function(P){return new(P||a)(f.\u0275\u0275inject(t.ki),f.\u0275\u0275inject(f.PLATFORM_ID))},a.\u0275prov=f.\u0275\u0275defineInjectable({token:a,factory:a.\u0275fac,providedIn:"root"}),a}(),ne=e(63027),ie=e(7891),se=function(){function a(){}return a.\u0275fac=function(P){return new(P||a)},a.\u0275mod=f.\u0275\u0275defineNgModule({type:a}),a.\u0275inj=f.\u0275\u0275defineInjector({imports:[[K.ez,g.Bz]]}),a}(),ue=function(){function a(){}return a.\u0275fac=function(P){return new(P||a)},a.\u0275mod=f.\u0275\u0275defineNgModule({type:a,bootstrap:[B]}),a.\u0275inj=f.\u0275\u0275defineInjector({providers:[m.a,u.s,i.c,R.K,N,E.l,S.F,y.J,w.I,C.o,{provide:ie.y,useFactory:function(){return new ie.y({network:c.N.chainNetwork,cacheProvider:!0,disableInjectedProvider:!1,providerOptions:{walletconnect:{package:ne.Z,options:{infuraId:c.N.infura_api}}}})}},{provide:K.S$,useClass:K.b0},{provide:j.TP,useClass:q,multi:!0}],imports:[[n,k.a3,p,j.JF,p,H.PW,I.IJ,F.yA,F.Rh.forRoot(),se]]}),a}(),ce=function(){function a(){}return a.\u0275fac=function(P){return new(P||a)},a.\u0275mod=f.\u0275\u0275defineNgModule({type:a,bootstrap:[B]}),a.\u0275inj=f.\u0275\u0275defineInjector({imports:[[t.b2.withServerTransition({appId:"app-root"}),ue,t.Cu]]}),a}();c.N.production&&((0,f.enableProdMode)(),window&&(window.console.log=function(){})),document.addEventListener("DOMContentLoaded",function(){t.q6().bootstrapModule(ce).catch(function(a){return console.log(a)})})},36563:function(){},46601:function(){},71922:function(){},2363:function(){},52361:function(){},94616:function(){},1189:function(){},2243:function(){},2024:function(V){"use strict";V.exports=JSON.parse('{"contractName":"Farm","abi":[{"inputs":[{"internalType":"contract IERC20","name":"_erc20","type":"address"},{"internalType":"uint256","name":"_rewardPerBlock","type":"uint256"},{"internalType":"uint256","name":"_startBlock","type":"uint256"},{"internalType":"address","name":"_manager","type":"address"}],"stateMutability":"nonpayable","type":"constructor"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"user","type":"address"},{"indexed":true,"internalType":"uint256","name":"pid","type":"uint256"}],"name":"Claim","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"user","type":"address"},{"indexed":true,"internalType":"uint256","name":"pid","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"amount","type":"uint256"}],"name":"Deposit","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"contract IERC20","name":"erc20","type":"address"},{"indexed":false,"internalType":"uint256","name":"rewardPerBlock","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"startBlock","type":"uint256"},{"indexed":false,"internalType":"address","name":"manager","type":"address"}],"name":"Initialize","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"user","type":"address"},{"indexed":true,"internalType":"uint256","name":"pid","type":"uint256"}],"name":"Unstake","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"user","type":"address"},{"indexed":true,"internalType":"uint256","name":"pid","type":"uint256"}],"name":"Withdraw","type":"event"},{"inputs":[],"name":"SECS_EPOCH","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"_allocPoint","type":"uint256"},{"internalType":"contract IERC20","name":"_stakingToken","type":"address"},{"internalType":"bool","name":"_isLP","type":"bool"},{"internalType":"bool","name":"_isBurnable","type":"bool"},{"internalType":"bool","name":"_withUpdate","type":"bool"}],"name":"add","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"_pid","type":"uint256"}],"name":"claim","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"_pid","type":"uint256"},{"internalType":"address","name":"_depositor","type":"address"},{"internalType":"uint256","name":"_amount","type":"uint256"}],"name":"deposit","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"_receiver","type":"address"}],"name":"emergencyWithdrawRewards","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"erc20","outputs":[{"internalType":"contract IERC20","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"_funder","type":"address"},{"internalType":"uint256","name":"_amount","type":"uint256"}],"name":"fund","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"manager","outputs":[{"internalType":"contract IFarmManager","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"massUpdatePools","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"_pid","type":"uint256"},{"internalType":"address","name":"_mover","type":"address"}],"name":"move","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"paidOut","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"","type":"uint256"}],"name":"poolInfo","outputs":[{"internalType":"contract IERC20","name":"stakingToken","type":"address"},{"internalType":"uint256","name":"allocPoint","type":"uint256"},{"internalType":"uint256","name":"lastRewardBlock","type":"uint256"},{"internalType":"uint256","name":"accERC20PerShare","type":"uint256"},{"internalType":"uint256","name":"supply","type":"uint256"},{"internalType":"bool","name":"isLP","type":"bool"},{"internalType":"bool","name":"isBurnable","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"rewardPerBlock","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"_pid","type":"uint256"},{"internalType":"uint256","name":"_allocPoint","type":"uint256"},{"internalType":"bool","name":"_withUpdate","type":"bool"}],"name":"set","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"startBlock","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"totalAllocPoint","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"_pid","type":"uint256"}],"name":"unstake","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"_pid","type":"uint256"}],"name":"updatePool","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"","type":"uint256"},{"internalType":"address","name":"","type":"address"}],"name":"userInfo","outputs":[{"internalType":"uint256","name":"amount","type":"uint256"},{"internalType":"uint256","name":"rewardDebt","type":"uint256"},{"internalType":"uint256","name":"lastClaimTime","type":"uint256"},{"internalType":"uint256","name":"withdrawTime","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"_pid","type":"uint256"}],"name":"withdraw","outputs":[],"stateMutability":"nonpayable","type":"function"}]}')}},function(V){V.O(0,["vendor"],function(){return V(V.s=78513)}),V.O()}]);